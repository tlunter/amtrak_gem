---
http_interactions:
- request:
    method: post
    uri: https://tickets.amtrak.com/itd/amtrak
    body:
      encoding: US-ASCII
      string: _handler%3Damtrak.presentation.handler.request.rail.AmtrakRailTrainStatusSearchRequestHandler%2F_xpath%3D%2FsessionWorkflow%2FproductWorkflow%5B%40product%3D%27Rail%27%5D=SEARCH&%2FsessionWorkflow%2FproductWorkflow%5B%40product%3D%27Rail%27%5D%2FtripRequirements%2FjourneyRequirements%5B1%5D%2FdepartDate.usdate=12%2F31%2F2015&%2FsessionWorkflow%2FproductWorkflow%5B%40product%3D%27Rail%27%5D%2FtripRequirements%2F%40trainStatusType=statusByCityPair&%2FsessionWorkflow%2FproductWorkflow%5B%40product%3D%27Rail%27%5D%2FtripRequirements%2FjourneyRequirements%5B1%5D%2FdepartDate%2F%40radioSelect=arrivalTime&requestor=amtrak.presentation.handler.page.AmtrakCMSNavigationTabPageHandler&xwdf_origin=%2FsessionWorkflow%2FproductWorkflow%5B%40product%3D%27Rail%27%5D%2FtravelSelection%2FjourneySelection%5B1%5D%2FdepartLocation%2Fsearch&wdf_origin=askdf&xwdf_destination=%2FsessionWorkflow%2FproductWorkflow%5B%40product%3D%27Rail%27%5D%2FtravelSelection%2FjourneySelection%5B1%5D%2FarriveLocation%2Fsearch&wdf_destination=bby
    headers:
      Content-Type:
      - application/x-www-form-urlencoded
  response:
    status:
      code: 200
      message: 
    headers:
      Server:
      - WebServer
      Content-Length:
      - '91268'
      Content-Type:
      - text/html;charset=UTF-8
      Set-Cookie:
      - JSESSIONID=0000g9IY2v-kV6xMXNL62ML8RmY:187j67cjs; HTTPOnly; Path=/; Domain=.amtrak.com;
        HttpOnly
      X-powered-by:
      - Servlet/3.0
      Expires:
      - Thu, 01 Dec 1994 16:00:00 GMT
      Content-Language:
      - en-US
      X-frame-options:
      - SAMEORIGIN
      Date:
      - Mon, 04 Jan 2016 02:35:24 GMT
      Connection:
      - keep-alive
    body:
      encoding: UTF-8
      string: "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\"\r\n\t\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\r\n\r\n\r\n\r\n\r\n
        <!--\r\n  \t\"Amtrak Release 6.27.03a\"\r\n -->\r\n \r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n
        \r\n<meta content=\"IE=edge\" http-equiv=\"X-UA-Compatible\" />\r\n\r\n    \r\n\t\r\n\t
        \  <head ><title>Amtrak - Train Status - Details</title>\n<meta http-equiv=\"content-type\"
        content=\"text/html; charset=UTF-8\" />\n<meta name=\"robots\" content=\"noindex,nofollow\"
        />\n<meta http-equiv=\"imagetoolbar\" content=\"no\" />\n<style type=\"text/css\">\n<!--\n@import
        url(/css/amtrak.css);\n-->\n</style>\n\r\n\t\t    <!-- IE8 renders as IE7
        to spare ourselves another column in the compatability matrix -->\r\n\t                \r\n\t
        \       <style type=\"text/css\">\r\n\t            <!--\r\n\t            @import
        url(/css/base.css?v=1.1);\r\n\t            @import url(/css/base_screen.css);\r\n\t
        \           @import url(/css/topnav.css?v=1.1);\r\n\t            @import url(/css/basic_booking.css?v=1.3);\r\n\t
        \           @import url(/css/special_booking.css);\r\n\t            @import
        url(/css/basic_booking_screen.css);\r\n\t            @import url(/css/ib_misc.css);\r\n\t
        \           @import url(/css/popup.css);\r\n\t            @import url(/css/profile.css?v=1.2);\r\n\t
        \           @import url(/css/amtrak_autocomplete.css);\r\n\t            -->\r\n\t
        \       </style>\r\n\t        \r\n\t        <!-- Diginet script(when USE_ESI=true)
        introduces 'c_root' form and this is causing orange bar to display on all
        pages. \r\n\t        Following lines are added to get rid of the orange bar.-->\r\n\t
        \       <style type=\"text/css\">\r\n\t            form#c_root { \r\n\t                 display:
        none; \r\n\t            }\r\n\t        </style>\r\n\t        \r\n\t        <link
        href=\"/css/basic_booking_print.css\" rel=\"stylesheet\" type=\"text/css\"
        media=\"print\" />\r\n\t        <link href=\"/css/base_print.css\" rel=\"stylesheet\"
        type=\"text/css\" media=\"print\" /> \r\n\t        <script type=\"text/javascript\">\r\n\t
        \           \r\n  \t\t\t\tvar _gaq = _gaq || [];\r\n \t\t\t\t_gaq.push(['_setAccount',
        'UA-23218774-1']);\r\n  \t\t\t\t_gaq.push(['_setDomainName', '.amtrak.com']);\r\n
        \ \t\t\t\t\r\n  \t\t\t\t_gaq.push(['_trackPageview']);\r\n\r\n  \t\t\t\t(function()
        {\r\n    \t\t\t\tvar ga = document.createElement('script'); ga.type = 'text/javascript';
        ga.async = true;\r\n    \t\t\t\tga.src = ('https:' == document.location.protocol
        ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\r\n    \t\t\t\tvar
        s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga,
        s);\r\n  \t\t\t\t})();\r\n\r\n\t\t\t</script>\r\n            <script>\r\n
        \              (function(d) {\r\n                    var config = {\r\n                        kitId:
        'ijm4cfl',\r\n                        scriptTimeout: 3000\r\n                        },\r\n
        \                       h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\\bwf-loading\\b/g,\"\")+\"
        wf-inactive\";},config.scriptTimeout),tk=d.createElement(\"script\"),f=false,s=d.getElementsByTagName(\"script\")[0],a;h.className+=\"
        wf-loading\";tk.src='//use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!=\"complete\"&&a!=\"loaded\")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)\r\n
        \               })(document);\r\n            </script>\r\n            \r\n
        \             \r\n              <script type=\"text/javascript\" language=\"javascript\"
        src='https://assets.adobedtm.com/b6ce373c321eacd4084683e01459ac4c347614f5/satelliteLib-073129b141b5f91c45cd8781dde0bb81599a5e0e.js'
        ></script>\r\n            \r\n\t    </head>\r\n\t\r\n  \t\r\n  \t  \t\r\n
        \ \t\r\n  \t<body class=\"site\">\r\n\r\n<link href=\"/css/header.css\" rel=\"stylesheet\"
        type=\"text/css\" />\r\n<script type=\"text/javascript\" src=\"/itd/project/scripts/en/amtrak/prototype.js\"></script>\r\n<div
        id=\"top_nav_wrapper\">\r\n<div id=\"top_navigation_body\"></div>\r\n\r\n\r\n\r\n<div
        id=\"pi_actions_list\">\r\n<a href=\"javascript:LoginPopout.show()\">Log in</a>
        &nbsp;or&nbsp;\r\n<a href=\"https://tickets.amtrak.com/itd/amtrak/Register\">Register</a>\r\n</div>\r\n\r\n\r\n\r\n<script
        type=\"text/javascript\">\r\ndocument.observe('dom:loaded', function() {\r\n$(\"login_popout\").hide();\r\n});\r\n</script>\r\n<div
        class=\"popout\" id=\"login_popout\" >\r\n\r\n\r\n\r\n<style type=\"text/css\">\r\n#loading
        {\r\nposition: fixed;\r\ntop: 30%;\r\nleft: 25%;\r\nbackground:url(/images/en/superpnr/image_loader_blue.gif)
        no-repeat center #fff;\r\npadding:7px;\r\n}\r\n#overlay {\r\nbackground-color:#EEE;\r\n}\r\n.link_item
        {\r\nfloat:left;\r\nwidth:65%;\r\n}\r\n</style>\r\n<style type=\"text/css\">\r\n.submit_image
        {\r\nfloat:right;\r\nvertical-align:top;\r\nbackground-color: transparent;\r\nborder:
        none;\r\nfont-size:1px;\r\nwidth: 70px;\r\nheight: 24px;\r\nbackground-image:
        url(/images/en/btn_login.gif);\r\nbackground-repeat: no-repeat;\r\n}\r\n</style>\r\n\r\n<script>\r\nfunction
        enterKeyPress(event) {\r\nif (Event.KEY_RETURN == event.keyCode) {\r\n// do
        something usefull\r\nLoginPopout.doLogon();\r\nreturn false;\r\n}\r\nreturn
        true;\r\n}\r\n</script>\r\n\r\n\r\n<div id=\"loading\"></div>\r\n<script>\r\n$('loading').hide();\r\n</script>\r\n<div
        id=\"overlay\" style=\"background-color: white;\">\r\n<div class=\"popout_inner\"
        id=\"login_popout_inner\">\r\n<a href=\"javascript:LoginPopout.hide()\" class=\"close_btn
        button\" style=\"margin-bottom:0px;\"><img alt=\"X\" src=\"/images/en/btn_closeXorange.gif\"
        /></a>\r\n<div id=\"login_form_header\"><h3 style=\"margin-top:0px;\">Log
        In to Amtrak.com</h3></div>\r\n\r\n<div class=\"form_holder\" id=\"login_form_holder\">\r\n<form
        class=\"std_form clearfix\" onsubmit=\"doRegularLogon(); return true;\" id=\"login_ajax_form\"
        action=\"https://tickets.amtrak.com/itd/amtrak\" method=\"post\"><input type=\"hidden\"
        name=\"requestor\" value=\"amtrak.presentation.handler.page.rail.AmtrakRailGetTrainStatusPageHandler\"
        />\r\n<div class=\"form_line\">\r\n\r\n<div class=\"form_label\"><label for=\"login_email_address\">E-Mail
        Address or Member Number</label></div>\r\n\r\n\r\n<div class=\"form_item\"><input
        type=\"hidden\" name=\"xwdf_username\" value=\"/sessionWorkflow/userWorkflow/profileAccountRequirements/userName\"
        /><input class=\"text\" autocomplete=\"off\" type=\"text\" id=\"login_email_address\"
        maxlength=\"64\" name=\"wdf_username\" /></div>\r\n</div>\r\n<div class=\"form_line\">\r\n<div
        class=\"form_label\"><label for=\"login_password\">Password</label></div>\r\n<div
        class=\"form_item\"><input type=\"hidden\" name=\"xwdf_password\" value=\"/sessionWorkflow/userWorkflow/profileAccountRequirements/password\"
        /><input class=\"text password\" autocomplete=\"off\" type=\"password\" id=\"login_password\"
        maxlength=\"20\" name=\"wdf_password\" /></div>\r\n</div>\r\n<div class=\"form_line\"
        id=\"login_go\">\r\n<div class=\"link_item  submit_item\">\r\n\r\n<a class=\"forgot_pass\"
        title=\"Click here to request your Password\" href=\"javascript:openForgotPwdBox();\">Forgot
        password?</a>\r\n\r\n\r\n</div>\r\n\r\n<input class=\"submit_image\" type=\"submit\"
        name=\"_handler=amtrak.presentation.handler.request.profile.AmtrakProfileLogonRequestHandler/_xpath=/sessionWorkflow/userWorkflow/profileAccountRequirements\"
        value=\"\" />\r\n</div>\r\n</form>\r\n</div>\r\n</div>\r\n<hr/>\r\n<div class=\"agrmerge_popout_inner\">\r\n\r\n<h4>Amtrak.com
        and Amtrak Guest Rewards Accounts are Merging</h4><p>Combine your accounts
        and enjoy the ease and convenience of a single Amtrak account. All of your
        information will be available with a single log-in &mdash; eliminating the
        need for you to keep two profiles.</p>\n\r\n\r\n\r\n</div>\r\n</div>\r\n\r\n\r\n\r\n\r\n</div>\r\n\r\n\r\n</div>\r\n<script
        language=\"JavaScript\" type=\"text/javascript\">\r\n<!--\r\nvar url = \"/\"
        + \"itd/amtrak\" + \"/DisplayCmsContent\";\r\nvar functionName = 'topNavigation';\r\n\r\nnew
        Ajax.Request(url,\r\n{ method: 'post',\r\nparameters: {'functionName': functionName},\r\nonSuccess:
        function (transport) {\r\nif(transport.responseText!='') {\r\n$('top_navigation_body').update(transport.responseText);\r\n}
        else {\r\n$('top_nav_wrapper').hide();\r\n}\r\n},\r\nonFailure: function (transport)
        {\r\n$('top_nav_wrapper').hide();\r\n}\r\n}\r\n);\r\n//-->\r\n</script>\r\n\r\n
        \ \t          \r\n\t    <script type=\"text/javascript\" src=\"/itd/project/scripts/en/amtrak/prototype.js\"></script>\r\n\t
        \   <script type=\"text/javascript\" src=\"/itd/project/scripts/en/amtrak/scriptaculous.js\"></script>\r\n\t
        \   <script type=\"text/javascript\" src=\"/itd/project/scripts/en/amtrak/effects.js\"></script>\r\n\t
        \   <script type=\"text/javascript\" src=\"/itd/project/scripts/en/amtrak/controls.js\"></script>\r\n\t
        \   <script type=\"text/javascript\" src=\"/itd/project/scripts/en/amtrak/formutils.js\"></script>\r\n\t
        \   <script type=\"text/javascript\" src=\"/itd/project/scripts/en/amtrak/popups.js\"></script>\r\n\t
        \   <script type=\"text/javascript\" src=\"/itd/project/scripts/en/amtrak/profile_rewrite.js\"></script>\r\n\t
        \   <script type=\"text/javascript\" src=\"/itd/project/scripts/en/amtrak/farefinderrequest.js\"></script>\r\n
        \       <script type=\"text/javascript\" src=\"/itd/project/scripts/en/amtrak/header.js\"></script>\r\n
        \       <script type=\"text/javascript\" src=\"/itd/project/scripts/en/motionpoint/motionpoint.js\"></script>\r\n\t
        \   <script type=\"text/javascript\">\r\n            <!-- \r\n            var
        pageName='amtrak/rail/trainstatus/trainstatusresponse.jsp';\r\n\r\n            /*
        if the subPageName has been defined use it to prefix the page name */\r\n
        \           if (typeof subPageName != 'undefined'){\r\n                var
        path=pageName.substr(0,pageName.lastIndexOf(\"/\")+1);\r\n                var
        page=pageName.substr(pageName.lastIndexOf(\"/\")+1);\r\n                pageName=path+subPageName+page;\r\n
        \           }\r\n            //-->\r\n        </script>\r\n        <script
        type=\"text/javascript\" src=\"/itd/project/scripts/en/amtrak/jquery-1.11.2.min.js\"></script>\r\n
        \       <script type=\"text/javascript\">\r\n            jQuery.noConflict();\r\n
        \       </script>\r\n           \t\r\n\t   \t\r\n<div id=\"outer_wrapper_confirmation\">\r\n<div
        id=\"top_level_wrapper_confirmation\">\r\n<div id=\"lower_wrapper_confirmation\">\r\n\r\n<div
        id=\"left_column_wrapper_confirmation\">\r\n\r\n\r\n<style type=\"text/css\">\r\n<!--\r\n@import
        url(/css/base.css?v=1.1);\r\n-->\r\n</style>\r\n<script language=\"JavaScript\"
        type=\"text/javascript\" src=\"/itd/project/scripts/en/amtrak/base.js\"></script>\r\n<script
        language=\"JavaScript\" type=\"text/javascript\" src=\"/itd/project/scripts/en/amtrak/basic_booking_left.js\"></script>\r\n<link
        rel=\"stylesheet\" type=\"text/css\" href=\"/css/amtrak-calendar.css\" media=\"screen\"
        />\r\n\r\n\r\n<div id=\"persistent_info_wrapper\">\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<script
        src=\"/itd/project/scripts/en/amtrak/jquery-ui.min.js\"></script>\r\n<script
        src=\"/itd/project/scripts/en/amtrak/moment.js\"></script>\r\n<script src=\"/itd/project/scripts/en/amtrak/jquery.comiseo.daterangepicker.js\"></script>\r\n<script
        src=\"/itd/project/scripts/en/amtrak/datepicker.js?v=1.1\"></script>\r\n<link
        type=\"text/css\" rel=\"stylesheet\" href=\"/css/jquery-ui.css\" />\r\n<link
        type=\"text/css\" rel=\"stylesheet\" href=\"/css/jquery.comiseo.daterangepicker.css\"
        />\r\n<link type=\"text/css\" rel=\"stylesheet\" href=\"/css/datepicker.css\"
        />\r\n<input  name=\"daterangepicker\" class=\"daterangepicker\">\r\n\r\n\r\n\r\n\r\n<script
        type=\"text/javascript\">\r\nareCookiesEnabled();\r\nfunction createCookie(name,
        value, days) {\r\nvar expires;\r\nif (days) {\r\nvar date = new Date();\r\ndate.setTime(date.getTime()
        + (days * 24 * 60 * 60 * 1000));\r\nexpires = \"; expires=\" + date.toGMTString();\r\n}\r\nelse
        expires = \"\";\r\ndocument.cookie = name + \"=\" + value + expires + \";
        path=/\";\r\n}\r\nfunction readCookie(name) {\r\nvar nameEQ = name + \"=\";\r\nvar
        ca = document.cookie.split(';');\r\nfor (var i = 0; i < ca.length; i++) {\r\nvar
        c = ca[i];\r\nwhile (c.charAt(0) == ' ') c = c.substring(1, c.length);\r\nif
        (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\r\n}\r\nreturn
        null;\r\n}\r\nfunction eraseCookie(name) {\r\ncreateCookie(name, \"\", -1);\r\n}\r\nfunction
        areCookiesEnabled() {\r\ncreateCookie(\"test\", \"Hello\", 1);\r\nif (readCookie(\"test\")
        == null) {\r\n// No stored cookie, therefore client cannot (or will not) accept\r\n//
        cookies - display error msg\r\nvar output = '<tr class=\"errorrow\">'\r\n+
        '<td class=\"error\">'\r\n+ '<table cellspacing=\"0\" cellpadding=\"0\" border=\"0\"
        class=\"errorimagetable\">'\r\n+ '<tr class=\"errorimagerow\">'\r\n+ '<td
        class=\"errorimagecell\">'\r\n+ '<img class=\"errorimage\" src=\"/images/en/warn.gif\"
        />'\r\n+ '</td>'\r\n+ '<td class=\"errortextcell\" >'\r\n+ '<span class=\"error\">'\r\n+
        'Cookies Must Be Enabled: To use advanced features of Amtrak.com, your browser
        must be capable of accepting session cookies. Please <a href=\"javascript:var
        child=window.open(\\'http://www.amtrak.com/servlet/ContentServer?pagename=am/AM_Snippet_C/IBLegacy&help=cookies\\',\\'help\\',\\'directories=0,dependent=1,menubar=0,top=20,left=20,width=680,height=600,scrollbars=1\\');child.focus();\">click
        here</a> to learn more about how to accept cookies.'\r\n+ '</span></td></tr>'\r\n+
        '</table>'\r\n+ '</td></tr>'\r\n+ '<tr><td>&nbsp;</td></tr>';\r\ndocument.write(output);\r\n}\r\neraseCookie(\"test\");\r\n}\r\n</script>\r\n\r\n\r\n\n\n\n\n\n
        \   \n<!--[if IE]>\n<script type=\"text/javascript\">\t    \nfunction isCalendarEvent(e)
        {\n\n     var element = Event.element(e);        \n     var names = element.classNames();
        \n     if (names.include('selector')) {\n       return true;\n     }\n     if
        (names.include('calnavright')) {\n       return true;\n     }\n     if (names.include('calnavleft'))
        {\n       return true;\n     }\n     if (names.include('link-close')) {\n
        \      return true;\n     }\n     return false;\n}     \n\nfunction addFormSubmitEvent(form)
        {\n    form.onkeydown = function(e) {\n        e = e || window.event;\n       \n
        \       if (e.keyCode == 13) {\n        \n        \t// If this is a Calendar
        return key entry then do not\n        \t// call form.submit() \n        \tif
        (isCalendarEvent(e)) {\n\t\t\t   return;\n\t\t\t}\t\t\n        \n            if
        (form.name == 'ff_status_form') {\n             if(CheckMandatoryTrainStatusFields(form))
        {\n            \t form.submit();\n            \t return true;\n             }\n
        \            return false;\n            }\n            if (form.name == 'mytrip_acct')
        {\n             if (CheckMandatoryLoginFields(form)) {\n            \tform.submit();\n
        \           \treturn false;\n             }\n             return true;\n            }\n
        \           if (form.name == 'mytrip_res') {\n             if (CheckMandatoryMyTripFields(form))
        {\n            \tform.submit();\n            \treturn false;\n             }\n
        \            return true;\n            }\n            if (form.name == 'ff_schedules_form')
        {\n             if (CheckMandatoryScheduleFields(form)) {\n            \tform.submit();\n
        \           \treturn false;\n             }\n             return true;\n            }\n
        \       }\n    };\n}\n\ndocument.observe('dom:loaded', function() {\n    var
        forms = document.getElementsByTagName('form');\n    for (var i=0;i < forms.length;i++)
        {\n        if (forms[i].name == 'mytrip_res' || forms[i].name == 'mytrip_acct'
        || forms[i].name == 'ff_schedules_form' || forms[i].name == 'ff_status_form')
        {\n    \t  addFormSubmitEvent(forms[i]);\n    \t}\n    }\n});\n\n</script>
        \  \t\n<![endif]-->\n\n<!-- Begin HTML for Fare Finder -->   \n        <div
        id=\"farefinder\">\n            <div id=\"ff_tabbar\">\n                <div
        class=\"active\" id=\"ff_tabbar_tickets\">Tickets<span onclick=\"compare_dates('wdfdate1');show_ff_tab('tickets');showHideRedeemTabBarSection('ff_sub_tabbar',
        true);\"></span></div>\n                <div id=\"ff_tabbar_status\">Status<span
        onclick=\"set_status_date('wdfdate10');set_status_date('wdfdate11');show_ff_tab('status');setDepartOrArrivalFieldVisibility();switchToStatusByTrain();\"></span></div>\n
        \               <div id=\"ff_tabbar_mytrip\">My Trip<span onclick=\"show_ff_tab('mytrip');\"></span></div>\n
        \           </div>\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\t\n\t            \n\t            \t<div
        id=\"ff_sub_tabbar\" class=\"show_section\">\n\t                \t<div class=\"active\"
        id=\"ff_sub_tabbar_bookatrip\">Book<span onclick=\"show_ff_sub_tab('bookatrip');\"></span></div>\n\t
        \               \t<div id=\"ff_sub_tabbar_redeem\">Redeem<span onclick=\"show_ff_sub_tab('redeem');\"></span></div>\n\t
        \               \t<div id=\"ff_sub_tabbar_traveloptions\">Travel Options<span
        onclick=\"show_ff_sub_tab('traveloptions');\"></span></div>\n\t            \t</div>\n\t
        \           \n\t\t\t\n\n        \n         \r\n\r\n\r\n\r\n \r\n  \r\n  <div
        id=\"farefinder_tabbody_tickets\" class=\"farefinder_tabbody ff_active\">\r\n
        \              \r\n    <form name=\"form\" action=\"https://tickets.amtrak.com/itd/amtrak\"
        method=\"post\"><input type=\"hidden\" name=\"requestor\" value=\"amtrak.presentation.handler.page.rail.AmtrakRailFareFinderPageHandler\"
        />\r\n        <input type=\"hidden\" name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/@bookpath\"
        value=\"farefamilies\" />\r\n        <input type=\"hidden\" name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/allJourneyRequirements/@ff_tab_selected\"
        value=\"bookatrip\" />\r\n        <h2>Tickets</h2>\r\n                                                       \r\n
        \           <div id=\"ff_tickets_tt_cities_subdiv\" class=\"subdiv level6\">\r\n
        \               <div id=\"tickets_trip_type\"><p>                            \r\n
        \                   <input type=\"hidden\" name=\"xwdf_TripType\" value=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/tripType\"
        /><input type=\"radio\" id=\"oneway\" name=\"wdf_TripType\" value=\"OneWay\"
        onclick=\"javascript:blankReturnDate(false)\" />&nbsp;<label for=\"oneway\">One-Way</label>
        \                           \r\n                    <input type=\"hidden\"
        name=\"xwdf_TripType\" value=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/tripType\"
        /><input type=\"radio\" id=\"return\" name=\"wdf_TripType\" value=\"Return\"
        onclick=\"javascript:setReturnDate(false)\" />&nbsp;<label for=\"return\">Round-Trip</label>\r\n
        \                   <a href=\"/itd/amtrak/ComplexRail\">Multi-City</a> &gt;</p>\r\n
        \               </div>\r\n                                                \r\n
        \               <div id=\"tickets_dep_city\" class=\"ff_city_wrapper\">\r\n
        \                   <label for=\"departs\">From</label>                              \r\n
        \                   <input type=\"hidden\" name=\"xwdf_origin\" value=\"/sessionWorkflow/productWorkflow[@product='Rail']/travelSelection/journeySelection[1]/departLocation/search\"
        /><input type=\"text\" autocomplete=\"off\" id=\"departs\" maxlength=\"150\"
        name=\"wdf_origin\" value=\"askdf\" />\r\n                    <p><span class=\"find_a_station\"><a
        title=\"Click for a list of stations.\" href=\"javascript:fieldName='departs';
        openStationList();\">Find a Station</a></span></p>                                                                                                                    \r\n
        \               </div>\r\n                        \r\n                <div
        id=\"tickets_arr_city\" class=\"ff_city_wrapper level3\">\r\n                    <label
        for=\"arrives\">To</label>\r\n                    <input type=\"hidden\" name=\"xwdf_destination\"
        value=\"/sessionWorkflow/productWorkflow[@product='Rail']/travelSelection/journeySelection[1]/arriveLocation/search\"
        /><input type=\"text\" autocomplete=\"off\" id=\"arrives\" maxlength=\"150\"
        name=\"wdf_destination\" value=\"Boston - Back Bay, MA (BBY)\" />                               \r\n
        \                   <p><span class=\"find_a_station\"><a title=\"Click for
        a list of stations.\" href=\"javascript:fieldName='arrives'; openStationList();\">Find
        a Station</a></span></p>\r\n                </div>\r\n                <div
        id=\"autocomplete_availability_from\" class=\"autocomplete level5\" style=\"display:none\"></div>\r\n
        \               <div id=\"autocomplete_availability_to\" class=\"autocomplete
        level5\" style=\"display:none\"></div>                                                \r\n
        \           </div>                    \r\n                    \r\n            <div
        id=\"ff_tickets_dep_ret_date_subdiv\" class=\"subdiv level3\" style=\"position:static;\">\r\n
        \               <div id=\"tickets_dep_date_time\" class=\"level5\">\r\n                    <div
        class=\"ff_date_wrapper\">                                \r\n                        <label
        for=\"tickets_dep_date\">Departs</label>                                                              \r\n
        \                       <input class=\"wdfDate\" type=\"text\" size=\"22\"
        id=\"wdfdate1\" maxlength=\"22\" name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/journeyRequirements[1]/departDate.usdate\"
        value=\"12/31/2015\" /><a class=\"calLink noloading\" id=\"calLink1\">&nbsp;</a><br
        /><div id=\"calContainer1\"  class=\"calContainer\"  bookingpath=\"regularBooking\"
        calwrapper=\"farefinder\" caloffsetx=\"50\" calpickerxpos=\"50\" maxdate=\"+335d\"></div></div><div
        class=\"ff_time_wrapper\"><label for=\"wdftime1\"><b>Time</b></label><select
        id=\"wdftime1\" name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/journeyRequirements[1]/departTime.hourmin\"><option
        value=\"\">Anytime</option><option value=\"01:00\">Morning</option><option
        value=\"13:00\">Afternoon</option><option value=\"19:00\">Evening</option></select>
        \                                                                           \r\n
        \                   </div>\r\n                </div>\r\n                 \r\n
        \               \r\n                    <div id=\"tickets_ret_date_time\"
        class=\"hide_section level4\">                                \r\n                        <div
        class=\"ff_date_wrapper\">\r\n                                                                                                    \r\n
        \                           <label for=\"tickets_ret_date\">Returns</label>\r\n
        \                           <input class=\"wdfDate\" type=\"text\" size=\"22\"
        id=\"wdfdate2\" maxlength=\"22\" name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/journeyRequirements[2]/departDate.usdate\"
        /><a class=\"calLink noloading\" id=\"calLink2\">&nbsp;</a><br /><div id=\"calContainer2\"
        \ class=\"calContainer\"  bookingpath=\"regularBooking\" calwrapper=\"farefinder\"
        caloffsetx=\"50\" calpickerxpos=\"50\" maxdate=\"+335d\"></div></div><div
        class=\"ff_time_wrapper\"><label for=\"wdftime2\"><b>Time</b></label><select
        id=\"wdftime2\" name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/journeyRequirements[2]/departTime.hourmin\"><option
        value=\"\">Anytime</option><option value=\"01:00\">Morning</option><option
        value=\"13:00\">Afternoon</option><option value=\"19:00\">Evening</option></select>\r\n
        \                       </div>\r\n                    </div>    \r\n                             \r\n
        \           </div>\r\n            <div id=\"ff_tickets_passengers_subdiv\"
        class=\"subdiv level1\">\r\n                <div id=\"tickets_passengers\">
        \                           \r\n                                        \t\r\n
        \                   \t\r\n\t                    \r\n\t                    \t<div
        id=\"ff_adults_wrapper\">\r\n\t\t                        <label style=\"line-height:1.1;\"
        for=\"ff_adults\"><a href=\"javascript:var child=window.open('http://www.amtrak.com/servlet/Satellite?SnippetName=IBLegacy&pagename=am/AM_Snippet_C/SnippetWrapper&pass=Adult','pass','directories=0,dependent=1,menubar=0,top=20,left=20,width=680,height=600,scrollbars=1');child.focus();\"
        CLASS=\"smallblue\">Adults</a><br /> (13-61)</label>\r\n\t\t                        <select
        onchange=\"javascript:discounttype('adult')\" id=\"oth_adults\" name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/allJourneyRequirements/numberOfTravellers[@key='Adult']\"><option
        value=\"0\">0</option><option value=\"1\" selected=\"selected\">1</option><option
        value=\"2\">2</option><option value=\"3\">3</option><option value=\"4\">4</option><option
        value=\"5\">5</option><option value=\"6\">6</option><option value=\"7\">7</option><option
        value=\"8\">8</option></select>\r\n\t\t                    </div>\r\n\t\t
        \                   <div id=\"ff_seniors_wrapper\">\r\n\t\t                         <label
        style=\"line-height:1.1;\" for=\"ff_seniors\"><a href=\"javascript:var child=window.open('http://www.amtrak.com/servlet/Satellite?SnippetName=IBLegacy&pagename=am/AM_Snippet_C/SnippetWrapper&pass=Senior','pass','directories=0,dependent=1,menubar=0,top=20,left=20,width=680,height=600,scrollbars=1');child.focus();\"
        CLASS=\"smallblue\">Seniors</a><br /> (62+)</label>\r\n\t\t                         <select
        onchange=\"javascript:discounttype('senior')\" id=\"oth_seniors\" name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/allJourneyRequirements/numberOfTravellers[@key='Senior']\"><option
        value=\"0\" selected=\"selected\">0</option><option value=\"1\">1</option><option
        value=\"2\">2</option><option value=\"3\">3</option><option value=\"4\">4</option><option
        value=\"5\">5</option><option value=\"6\">6</option><option value=\"7\">7</option><option
        value=\"8\">8</option></select>\r\n\t\t                    </div>\r\n\t                    \r\n
        \                   \r\n                    \r\n                    <div id=\"ff_kids_wrapper\">\r\n
        \                         <label style=\"line-height:1.1;\" for=\"ff_kids\"><a
        href=\"javascript:var child=window.open('http://www.amtrak.com/servlet/Satellite?SnippetName=IBLegacy&pagename=am/AM_Snippet_C/SnippetWrapper&pass=Child','pass','directories=0,dependent=1,menubar=0,top=20,left=20,width=680,height=600,scrollbars=1');child.focus();\"
        CLASS=\"smallblue\">Children</a><br /> (2-12)</label>                                \r\n
        \                         <select onchange=\"showChildPopup(this.options[this.selectedIndex].value,
        document.getElementById('oth_infants').options[document.getElementById('oth_infants').selectedIndex].value,
        'oth_child_popup'),discounttype('child')\" id=\"oth_children\" name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/allJourneyRequirements/numberOfTravellers[@key='Child']\"><option
        value=\"0\" selected=\"selected\">0</option><option value=\"1\">1</option><option
        value=\"2\">2</option><option value=\"3\">3</option><option value=\"4\">4</option><option
        value=\"5\">5</option></select>\r\n                    </div>\r\n                    <div
        id=\"ff_infants_wrapper\">\r\n                          <label style=\"line-height:1.1;\"
        for=\"ff_infants\"><a href=\"javascript:var child=window.open('http://www.amtrak.com/servlet/Satellite?SnippetName=IBLegacy&pagename=am/AM_Snippet_C/SnippetWrapper&pass=Infant','pass','directories=0,dependent=1,menubar=0,top=20,left=20,width=680,height=600,scrollbars=1');child.focus();\"
        CLASS=\"smallblue\">Infants</a><br /> (under 2)</label>                                \r\n
        \                         <select onchange=\"showChildPopup(this.options[this.selectedIndex].value,
        document.getElementById('oth_children').options[document.getElementById('oth_children').selectedIndex].value,
        'oth_child_popup'),discounttype('infant')\" id=\"oth_infants\" name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/allJourneyRequirements/numberOfTravellers[@key='Infant']\"><option
        value=\"0\" selected=\"selected\">0</option><option value=\"1\">1</option><option
        value=\"2\">2</option><option value=\"3\">3</option><option value=\"4\">4</option></select>\r\n
        \                   </div>\r\n                </div>\r\n                <br>\r\n
        \                       \r\n                \r\n                \r\n                    <div
        id=\"oth_child_popup\" class=\"info_childpopup_ff hide_section\">Children
        and infants must travel with an adult who is at least 18 years or older.</div>\r\n
        \               \r\n                    \r\n                \r\n                <div
        class=\"subdiv unaccompaniedminor_link\"><a href=\"javascript:var child=window.open('http://www.amtrak.com/servlet/Satellite?SnippetName=IBLegacy&pagename=am/AM_Snippet_C/SnippetWrapper&ibsref=unaccompaniedMinor_FareFinder','ibsref','directories=0,dependent=1,menubar=0,top=20,left=20,width=680,height=600,scrollbars=1');child.focus();\"
        CLASS=\"smallblue\">Children 13-15 traveling alone</a></div>\r\n<style>\r\n.info_childpopup_ff
        {\r\n    margin-bottom: 10px;\r\n }\r\n .unaccompaniedminor_link{\r\n font-size:11px;\r\n
        padding-bottom:5px;\r\n }\r\n</style>     \r\n \r\n                \r\n                                                                        \r\n
        \           </div>\r\n                      \r\n            <div id=\"ff_submit_button\"
        class=\"subdiv\"> \r\n                            \r\n                 \r\n
        \                \r\n                    <input type=\"image\" alt=\"Click
        to Find Tickets\" name=\"_handler=amtrak.presentation.handler.request.rail.farefamilies.AmtrakRailFareFamiliesSearchRequestHandler/_xpath=/sessionWorkflow/productWorkflow[@product='Rail']\"
        onclick=\"javascript:return ( preFareFinderSubmitActions('The following information
        is needed to process your request:', 'Problem Pricing the Itinerary: Atlantic
        City Express Service offers adult fares only for all passengers.  Please modify
        your selection to continue. \\n[Error ID: 1121S]') && ValidateBookingDate())\"
        src=\"/images/en/btn_ff_findTrains.gif\" border=\"0\" />  \r\n                \r\n
        \                          \r\n            </div>     \r\n             \r\n
        \               <div id=\"ff_promocode\" class=\"subdiv oth_promocode\">\r\n
        \                       <input type=\"hidden\" name=\"xwdf_promoCode\" value=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/couponRequirements/coupon/code\"
        /><input onfocus=\"focuspromotext();\" type=\"text\" size=\"15\" id=\"ff_disc_promoCode\"
        maxlength=\"10\" name=\"wdf_promoCode\" onblur=\"blurpromotext();\" />\r\n
        \               </div>\r\n                <script>\r\n                var
        promocode = 'Promo Code';\r\n                function blurpromotext(){\r\n
        \               \tif(document.getElementById('ff_disc_promoCode').value ==
        '') {\r\n                        document.getElementById('ff_disc_promoCode').value
        = promocode;\r\n                    }   \r\n                }\r\n                function
        focuspromotext(){\r\n                    if(document.getElementById('ff_disc_promoCode').value
        == promocode) {\r\n                        document.getElementById('ff_disc_promoCode').value
        = \"\";\r\n                    }   \r\n    \r\n                }\r\n                </script>\r\n
        \               <script type=\"text/javascript\"> \r\n          //<![CDATA[
        \r\n               Element.observe(window, 'load', function(){\r\n            \t
        \  if(document.getElementById('ff_disc_promoCode').value == '') {\r\n                       document.getElementById('ff_disc_promoCode').value
        = promocode;\r\n                   } \r\n \r\n           });  \r\n       //]]>
        \r\n     </script>\r\n            \r\n             <div class=\"clear_both\"></div>\r\n
        \           \r\n                            \r\n                    \r\n                          \r\n
        \           <div id=\"ff_disctype\" class=\"subdiv\" >  \r\n                 \t\t\t\t\t
        \ \r\n             </div>\r\n             <div id=\"discountsrules\" class=\"subdiv\"><a
        href=\"javascript:var child=window.open('http://www.amtrak.com/servlet/Satellite?SnippetName=IBLegacy&pagename=am/AM_Snippet_C/SnippetWrapper&ibsref=preffare','ibsref','directories=0,dependent=1,menubar=0,top=20,left=20,width=680,height=600,scrollbars=1');child.focus();\"
        CLASS=\"smallblue\">Passenger type/discount rules</a></div>\r\n            \r\n
        \                              \r\n                \r\n\t                <script
        type=\"text/javascript\">\r\n\t\t                //<![CDATA[\r\n\t\t                    Element.observe(window,
        'load', function(){\r\n\t\t                    \tdiscounttype(\"adult\");\r\n\t\t
        \                   \tjQuery(\"#adult_select0 option[value='Adult']\").attr(\"selected\",
        \"selected\");\r\n\t\t                    }); \r\n\t\t                    //]]>\r\n\t
        \               </script>       \r\n\t            \r\n\t                   \r\n
        \                               \r\n                   \r\n                \r\n
        \   </form>    \r\n </div>\r\n\r\n<script>\r\nif( $('ff_sub_tabbar_bookatrip').hasClassName(\"active\")
        ){\r\n\tshow_ff_sub_tab('bookatrip');\r\n } else if( $('ff_sub_tabbar_redeem').hasClassName(\"active\")
        ){\t \r\n\tshow_ff_sub_tab('redeem');\r\n }\r\n\r\n function discounttype(passtype)
        {\t  \r\n    var totaladults = jQuery('#oth_adults').val();\r\n    var totalseniors
        = jQuery('#oth_seniors').val();\r\n    var totalchilds = jQuery('#oth_children').val();\r\n
        \   var totalinfants = jQuery('#oth_infants').val();\r\n    var totaladperson
        = parseInt(totaladults) + parseInt(totalseniors) ;\r\n    var dischtml='';\r\n
        \   var count=0;\r\n    var sencount =0;\r\n    var adtcount= 0;\r\n    var
        j=0;\r\n    var k=0;\r\n\r\n     if ( totaladperson != 0 ){\r\n        for
        ( var i=0; i<totaladperson; i++) {\r\n            count++;\r\n            var
        adultopts= \"<option value='Default'>Select</option><option value='Adult'>Adult</option><option
        value='Senior'>Senior</option><option value='ADAPaxType_Adult'>Passenger with
        Disability (PWD)</option><option value='ADAPaxType_Companion'>Companion (Book
        with PWD)</option><option value='AAA Adult'>AAA Adult</option><option value='NARP'>NARP</option><option
        value='Military'>Military Adult (Active)</option><option value='Veterans Advantage'>Veterans
        Advantage</option><option value='Student Advantage'>Student Advantage</option><option
        value='ISIC'>ISIC</option>\";\r\n            var senopts= \"<option value='Default'>Select</option><option
        value='Adult'>Adult</option><option value='Senior' selected='selected'>Senior</option><option
        value='ADAPaxType_Adult'>Passenger with Disability (PWD)</option><option value='ADAPaxType_Companion'>Companion
        (Book with PWD)</option><option value='AAA Adult'>AAA Adult</option><option
        value='NARP'>NARP</option><option value='Military'>Military Adult (Active)</option><option
        value='Veterans Advantage'>Veterans Advantage</option><option value='Student
        Advantage'>Student Advantage</option><option value='ISIC'>ISIC</option>\";\r\n
        \           var adtlabel=\"Adult\";\r\n            if (jQuery('#adult_select'+i).val())
        {\r\n                var curadtval = \"value='\"+jQuery('#adult_select'+i).val()+\"'\";\r\n
        \               var newadtval = \"value='\"+jQuery('#adult_select'+i).val()+\"'
        selected='selected'\";\r\n                               \r\n                if
        (curadtval == \"value='Senior'\" && sencount<totalseniors ){\r\n                    adtlabel
        = \"Senior\";\r\n                \tsencount++;\r\n                \tadultopts
        = adultopts.replace(curadtval, newadtval);  \r\n                } else {\r\n
        \                \tif (curadtval == \"value='Senior'\" && sencount>=totalseniors
        ){\r\n                     \tif (j==0) {\r\n                     \tj=i;\r\n
        \                    \t} else {\r\n                     \t\tj=j+1;\r\n                     \t}\r\n
        \                     \twhile (j<=totaladperson)  {\r\n                     \t\t
        if (jQuery('#adult_select'+(j+1)).val() != 'Senior') {\r\n                                 var
        ncuradtval = \"value='\"+jQuery('#adult_select'+(j+1)).val()+\"'\";\r\n                                 var
        nnewadtval = \"value='\"+jQuery('#adult_select'+(j+1)).val()+\"' selected='selected'\";\r\n
        \                                adultopts = adultopts.replace(ncuradtval,
        nnewadtval); \r\n                                 break;\r\n                              }\r\n
        \                \t         j++; \t\r\n                     \t }\r\n                \t}
        else {\r\n                \t\tif (curadtval != \"value='Senior'\" && adtcount<totaladults
        ){\r\n                            adtcount++;\r\n                            adultopts
        = adultopts.replace(curadtval, newadtval);  \r\n                        }
        else {\r\n                            if (curadtval != \"value='Senior'\"
        && adtcount>=totaladults ){\r\n                                if (k==0) {\r\n
        \                               k=i;\r\n                                }
        else {\r\n                                    k=k+1;\r\n                                }\r\n
        \                               while (k<=totaladperson)  {\r\n                                     if
        (jQuery('#adult_select'+(k+1)).val() == 'Senior') {\r\n                                         var
        ncuradtval = \"value='\"+jQuery('#adult_select'+(k+1)).val()+\"'\";\r\n                                         var
        nnewadtval = \"value='\"+jQuery('#adult_select'+(k+1)).val()+\"' selected='selected'\";\r\n
        \                                        adultopts = adultopts.replace(ncuradtval,
        nnewadtval); \r\n                                         adtlabel = \"Senior\";\r\n
        \                                        break;\r\n                                      }\r\n
        \                                    k++;   \r\n                                 }\r\n
        \                           } else {\r\n                                  \tadultopts
        = adultopts.replace(curadtval, newadtval);\r\n                            }\r\n
        \                       }\r\n\r\n                   \t}\r\n                }\r\n
        \               \r\n              } else {\r\n\r\n                 if (passtype==
        'senior' || passtype== 'Senior') {\r\n            \t adultopts=senopts;\r\n
        \           \t adtlabel =\"Senior\";\r\n                 }\r\n             }\r\n
        \           \r\n            dischtml += '<div id =\"pass'+count+'\" class=\"'+adtlabel+'\"><div
        class=\"ff_disc_passenger\"><label id=\"label'+count+'\" for=\"disc_passenger'+count+'\">Passenger
        #'+count+' ('+adtlabel+')</label><br/><input type=\"hidden\" value=\"/sessionWorkflow/productWorkflow[@product=\\'Rail\\']/tripRequirements/allJourneyRequirements/person['+count+']/personType\"
        name=\"xwdf_person_type'+count+'\"><select onfocus=\"this.oldvalue = this.value;\"
        \ onchange=\"totalpass(this,'+count+');this.oldvalue = this.value;\"  name=\"wdf_person_type'+count+'\"
        id=\"adult_select'+i+'\" class=\"disc_passenger_select\">'+adultopts+'</select></div></div>';\r\n
        \r\n           }\r\n     } \r\n   \r\n\r\n      if ( totalchilds != 0) {\r\n
        \        for ( var i=0; i<totalchilds; i++) {\r\n             count++;\r\n
        \            var childopts= \"<option value='Default'>Select</option><option
        value='Child'>Child (Ages 2-12)</option><option value='ADAPaxType_Child'>Passenger
        with Disability (PWD)</option><option value='AAA Child'>AAA Child (Ages 2-12)</option><option
        value='Military Child'>Military Child (Ages 2-12)</option>\";\r\n             if
        (jQuery('#child_select'+i).val()) {\r\n                 var curchival = \"value='\"+jQuery('#child_select'+i).val()+\"'\";\r\n
        \                var newchival = \"value='\"+jQuery('#child_select'+i).val()+\"'
        selected='selected'\";\r\n                 childopts = childopts.replace(curchival,
        newchival); \r\n              }\r\n             dischtml += '<div id =\"pass'+count+'\"
        class=\"ff_disc_passenger\"><label for=\"disc_passenger'+count+'\">Passenger
        #'+count+' (Child)</label><br/><input type=\"hidden\" value=\"/sessionWorkflow/productWorkflow[@product=\\'Rail\\']/tripRequirements/allJourneyRequirements/person['+count+']/personType\"
        name=\"xwdf_person_type'+count+'\"><select name=\"wdf_person_type'+count+'\"
        id=\"child_select'+i+'\" class=\"disc_passenger_select\">'+childopts+'</select></div>';
        \ \r\n         }\r\n      }\r\n  if ( totalinfants != 0 ) {\r\n       for
        ( var i=0; i<totalinfants; i++) {\r\n           count++;\r\n           dischtml
        += '<div id =\"pass'+count+'\" class=\"ff_disc_passenger\"><label for=\"disc_passenger'+count+'\">Passenger
        #'+count+' (Infant)</label><br/><p>Infant (Under age 2)</p><input type=\"hidden\"
        value=\"Infant\" name=\"/sessionWorkflow/productWorkflow[@product=\\'Rail\\']/tripRequirements/allJourneyRequirements/person['+count+']/personType\"></div>';
        \ \r\n       }\r\n    }\r\n   \r\n   document.getElementById('ff_disctype').innerHTML
        = dischtml;\r\n     if ( count != 0) {\r\n           document.getElementById(\"ff_disctype\"
        ).style.display = 'block';\r\n    } else {\r\n           document.getElementById(\"ff_disctype\"
        ).style.display = 'none';\r\n    }\r\n}\r\n\r\nfunction validatePassDiscountSelect(){\r\n\tvar
        totaladults = jQuery('#oth_adults').val();\r\n\tvar totalseniors = jQuery('#oth_seniors').val();\r\n
        \   var totaladperson = parseInt(totaladults) + parseInt(totalseniors) ;\r\n
        \   var totalchilds = jQuery('#oth_children').val();\r\n    var errorMsg =
        \"\";\r\n      if ( totaladperson != 0 ){\r\n    \t  for (i = 0; i < totaladperson;
        i++) {\r\n    \t\t    if (jQuery('#adult_select'+i).val() == 'Default') {\r\n
        \   \t\t    \t    errorMsg = 'Please make sure you have selected a passenger
        type for all of the members in your traveling party.';\r\n    \t\t   }\r\n
        \   \t}\r\n      }\r\n      if ( totalchilds != 0 ){\r\n          for (i =
        0; i < totalchilds; i++) {\r\n                if (jQuery('#child_select'+i).val()
        == 'Default') {\r\n                        errorMsg = 'Please make sure you
        have selected a passenger type for all of the members in your traveling party.';\r\n
        \              }\r\n        }\r\n      }\r\n\r\n      if (errorMsg!=\"\"){\r\n
        \       alert(errorMsg);\r\n        return false;\r\n      } else {\r\n          return
        true;\r\n      }\r\n    \r\n}\r\n\r\nfunction totalpass(id, ct) {\r\n\r\n\tvar
        oldvalue = id.oldvalue;\r\n\tvar newvalue = id.value;\r\n\tvar newlabel =
        \"label\"+ct;\r\n\r\n\tif (oldvalue == 'Senior' || newvalue == 'Senior') {\r\n\r\n\t\tif
        (oldvalue == 'Senior' && newvalue != 'Senior') {\r\n\t\t\tvar tadt = parseInt(document.getElementById(\"oth_adults\").value);\r\n\t\t\tvar
        tsen = parseInt(document.getElementById(\"oth_seniors\").value);\r\n\t\t\ttadt
        += 1;\r\n\t\t\ttsen -= 1;\r\n\t\t\tdocument.getElementById(\"oth_adults\").value
        = tadt;\r\n\t\t\tdocument.getElementById(\"oth_seniors\").value = tsen;\r\n\t\t\tvar
        res = document.getElementById(newlabel).innerHTML.replace(\"Senior\",\"Adult\");
        \r\n\t\t\tdocument.getElementById(newlabel).innerHTML =res; \r\n\t\t} else
        {\r\n\r\n\t\t\tif (newvalue == 'Senior' && oldvalue != 'Senior') {\r\n\t            var
        tadt = parseInt(document.getElementById(\"oth_adults\").value);\r\n\t            var
        tsen = parseInt(document.getElementById(\"oth_seniors\").value);\r\n\t            tadt
        -= 1;\r\n\t            tsen += 1;\r\n\t            document.getElementById(\"oth_adults\").value
        = tadt;\r\n\t            document.getElementById(\"oth_seniors\").value =
        tsen;\r\n\t            var res = document.getElementById(newlabel).innerHTML.replace(\"Adult\",\"Senior\");
        \r\n\t            document.getElementById(newlabel).innerHTML =res; \r\n\t\t
        \           \r\n\t        } \r\n\t\t} \r\n\t}\r\n\t \r\n\t  \r\n}\r\n\r\n\r\nfunction
        closeAlertBox() { \r\n    var $j = jQuery.noConflict();\r\n    $j(\".ui-dialog-content\").dialog(\"close\");
        \r\n}\r\n\r\nfunction ValidateBookingDate(){\r\n\tvar errMinMsg=\"\";\r\n\tvar
        errMaxMsg=\"\";\r\n\tvar errMsg=\"\";\r\n\tvar newdate = new Date();\r\n\tvar
        numberOfDaysToAdd = '+335d';\r\n\tnumberOfDaysToAdd = parseInt(numberOfDaysToAdd.replace(/\\D/g,''));\r\n\tvar
        mindate= $j.datepicker.formatDate('mm/dd/yy', newdate);\r\n\tnewdate.setDate(newdate.getDate()
        + numberOfDaysToAdd); \r\n\tvar maxdate= $j.datepicker.formatDate('mm/dd/yy',
        newdate);\r\n\tvar depdate=document.getElementById(\"wdfdate1\").value;\r\n\t\r\n\tif
        (depdate != \"\" && validMinDateRange(mindate,depdate) == false ){\r\n    \terrMinMsg
        = 'Problem with Travel Date: Our system cannot make reservations for dates
        in the past. Check your date(s) and try again. [Error ID: 532S]\\n\\n' ;\r\n
        \t}\r\n    if(document.getElementById('return').checked) {\r\n        var
        retdate=document.getElementById(\"wdfdate2\").value;\r\n        if (retdate
        != \"\" && validMinDateRange(mindate,retdate) == false ){\r\n            errMinMsg
        = 'Problem with Travel Date: Our system cannot make reservations for dates
        in the past. Check your date(s) and try again. [Error ID: 532S]\\n\\n' ;\r\n
        \        }   \r\n        \r\n    }\r\n    if (depdate != \"\" && validMaxDateRange(maxdate,depdate)
        == false ){\r\n    \terrMaxMsg = 'Problem with Travel Date: Our system cannot
        make reservations for dates more than 11 months in the future. Check your
        date(s) and try again. [Error ID: 533S]' ;\r\n    }\r\n    if(document.getElementById('return').checked)
        {\r\n        var retdate=document.getElementById(\"wdfdate2\").value;\r\n
        \       if (retdate != \"\" && validMaxDateRange(maxdate,retdate) == false
        ){\r\n            errMaxMsg = 'Problem with Travel Date: Our system cannot
        make reservations for dates more than 11 months in the future. Check your
        date(s) and try again. [Error ID: 533S]' ;\r\n        }   \r\n            \r\n
        \   }\r\n   \r\n    errMsg += errMinMsg+errMaxMsg;\r\n\r\n    if (null !=
        errMsg && errMsg != \"\" ) {\r\n               alert(errMsg);\r\n       return
        false;\r\n    } else {\r\n        return true;\r\n    }\r\n        \r\n\r\n}\r\n\r\n</script>\r\n<style>\r\n
        .disc_passenger_select {\r\n margin-top:2px;\r\n margin-left:0px;\r\n }\r\n
        </style>\r\n\r\n           \r\n            \r\n            \r\n                \r\n
        \               \r\n\t                \r\n                \r\n           \r\n
        \       \r\n       \r\n       <script type=\"text/javascript\">\r\n        //<![CDATA[\r\n
        \         var $j = jQuery.noConflict();\r\n           $j( document ).ready(function()
        {\r\n        \t   document.getElementById(\"wdfdate1\").value = ''; \r\n        \t
        \  document.getElementById(\"wdfdate15\").value = 'Select a date';             \r\n
        \          }); \r\n       //]]>\r\n      </script>\r\n\t  <script type=\"text/javascript\">\r\n\t
        \   if (document.getElementById(\"wdfdate15\") != null && \r\n\t    \t    document.getElementById(\"wdfdate15\").value
        == '') {\r\n\t        document.getElementById(\"wdfdate15\").value = 'Select
        a date';  \r\n\t    }    \r\n\t  </script>\r\n        \r\n\n         \n         \n
        \        \r\n\r\n\r\n\r\n\r\n       <div id=\"farefinder_tabbody_redeem\"
        class=\"farefinder_tabbody\">\r\n       \t<h2>Redeem Points</h2>\r\n       \t\r\n
        \      \t<form onsubmit=\"javascript: return ValidateRedeemDate()\" name=\"ff_redeem_form\"
        action=\"https://tickets.amtrak.com/itd/amtrak\" method=\"post\"><input type=\"hidden\"
        name=\"requestor\" value=\"amtrak.presentation.handler.page.rail.redeem.PresAmtrakRailRedeemFindATicketReqsPageHandler\"
        />\r\n       \t\t<div id=\"ff_redeem_step_1\" class=\"subdiv\">         \t\t\r\n\t
        \   \t<div id=\"ff_member_wrapper\">\r\n\t      \t\t\r\n\t      \t\t\r\n\t
        \       \t\t\r\n\t        \t\t\r\n\t\t\t           \r\n\t\t\t      \t\r\n\t\t\t
        \     \t\r\n\t\t\t          \t<div class=\"form_line_wrapper first\">\r\n\t\t\t
        \           \t<label for=\"ff_membernumber\">Member Number</label>\r\n\t\t\t
        \           \t<span class=\"form_entry\">\r\n\t\t\t                \t<input
        type=\"text\" autocomplete=\"off\" id=\"ff_membernumber\" maxlength=\"10\"
        name=\"/sessionWorkflow/profileWorkflow/schemeAccount/membershipNumber\" />\r\n\t\t\t
        \               </span>\r\n\t\t\t            </div>\r\n\t\t\t            <div
        class=\"form_line_wrapper\">\r\n\t\t\t            \t<label for=\"ff_memberpassword\">Member
        Password</label>\r\n\t\t\t                <span class=\"form_entry\">\t\r\n\t\t\t
        \               \t<input type=\"password\" autocomplete=\"off\" id=\"ff_memberpassword\"
        maxlength=\"29\" name=\"/sessionWorkflow/profileWorkflow/schemeAccount/@password\"
        />\r\n\t\t\t                </span>\t                    \r\n\t\t\t            </div>\r\n\t\t\t
        \           <br class=\"clear_both\" />\t\t\t                       \r\n\t\t\t
        \       \r\n\t        \t\t\r\n\t      \t\t  \r\n\t      \t</div>\r\n     \t</div>\r\n\t
        \     \r\n\t    <div id=\"ff_tickets_redeem_cities_subdiv\" class=\"subdiv\">\r\n\t\t\t\r\n\t\t
        \   \t<div id=\"tickets_dep_city\" class=\"ff_city_wrapper\">\t\t\t      \t\t\t\t\t\t
        \        \r\n\t\t        \t<input type=\"hidden\" name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/journeyRequirements[1]/departDate/@radioSelect\"
        value=\"arrivalTime\" />\r\n\t\t        \t<input type=\"hidden\" name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/@bookpath\"
        value=\"redeem\" />\t\t\t      \t\t\t\r\n\t\t      \t\t<label for=\"agrdeparts\">From</label>\t\t\t\t
        \               \r\n\t\t        \t<input type=\"hidden\" name=\"xwdf_origin\"
        value=\"/sessionWorkflow/productWorkflow[@product='Rail']/travelSelection/journeySelection[1]/departLocation/search\"
        /><input class=\"text\" type=\"text\" id=\"agrdeparts\" name=\"wdf_origin\"
        value=\"askdf\" />\r\n\t\t        \t<p><span class=\"find_a_station\"><a title=\"Click
        for a list of stations.\" href=\"javascript:fieldName='agrdeparts'; openStationList();\">Find
        a Station</a></span></p>            \t\t\t\t                        \r\n\t
        \         \t</div>\r\n\t          \r\n\t          \t<div id=\"tickets_arr_city\"
        class=\"ff_city_wrapper level3\">\r\n\t          \t\t<label for=\"agrarrives\">To</label>\r\n\t
        \         \t\t<input type=\"hidden\" name=\"xwdf_destination\" value=\"/sessionWorkflow/productWorkflow[@product='Rail']/travelSelection/journeySelection[1]/arriveLocation/search\"
        /><input class=\"text\" type=\"text\" id=\"agrarrives\" name=\"wdf_destination\"
        value=\"Boston - Back Bay, MA (BBY)\" />\r\n\t          \t\t<p><span class=\"find_a_station\"><a
        title=\"Click for a list of stations.\" href=\"javascript:fieldName='agrarrives';
        openStationList();\">Find a Station</a></span></p>\t\t\r\n\t          \t</div>\t\r\n\t
        \     \t  \t<div id=\"redeem_from_auto\" class=\"autocomplete level5\" style=\"display:none\"></div>\r\n
        \                \t<div id=\"redeem_to_auto\" class=\"autocomplete level5\"
        style=\"display:none\"></div>\t\t\r\n\t      \t\r\n\t      </div>\r\n      \r\n
        \            <div id=\"ff_redeem_dep_date_subdiv\" class=\"subdiv\">\r\n          \t<div
        id=\"redeem_dep_date_time\">\r\n            \t<div class=\"ff_date_wrapper\">
        \                               \r\n                \t<label for=\"wdfdate15\">Departs</label>\r\n
        \                   <input class=\"wdfDate\" type=\"text\" size=\"22\" id=\"wdfdate15\"
        maxlength=\"22\" name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/journeyRequirements[1]/departDate.usdate\"
        value=\"12/31/2015\" /><a class=\"calLink noloading\" id=\"calLink15\">&nbsp;</a><br
        /><div id=\"calContainer15\"  class=\"calContainer\"  bookingpath=\"redeemff\"
        calwrapper=\"farefinder\" caloffsetx=\"50\" calpickerxpos=\"50\" maxdate=\"+335d\"></div></div><div
        class=\"ff_time_wrapper\"><label for=\"wdftimenull\"><b>Time</b></label><select
        id=\"wdftime15\" name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/journeyRequirements[1]/departTime.hourmin\"><option
        value=\"\">Anytime</option><option value=\"01:00\">Morning</option><option
        value=\"13:00\">Afternoon</option><option value=\"19:00\">Evening</option></select>\r\n
        \               </div>                            \r\n\t            </div>\r\n
        \         </div>\r\n            \r\n             <div id=\"ff_redeem_passengers_subdiv\"
        class=\"subdiv\">\r\n             \t<div id=\"redeem_passengers\">\r\n             \t<div
        id=\"ff_submit_button\">                   \r\n                    <input
        type=\"image\" alt=\"Click to Find Tickets\" name=\"_handler=amtrak.presentation.handler.request.rail.redeem.PresAmtrakRailRedeemSearchRequestHandler\"
        onclick=\"javascript:return preRedeemSubmitActions('The following information
        is needed to process your request:') \" src=\"/images/en/btn_ff_findTrains.gif\"
        border=\"0\" />                            \r\n                </div>\r\n
        \             \t<div id=\"passenger_wrapper\">\r\n                \t<label
        for=\"redeemadults\">Passengers</label><br> (Max. of 8)\t                \t
        \                   \r\n                </div>\t                \r\n                <div
        id=\"ff_redeem_passenger_select_wrapper\">\r\n                \t<select id=\"redeemadults\"
        name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/allJourneyRequirements/numberOfTravellers[@key='Adult']\"><option
        value=\"1\" selected=\"selected\">1</option><option value=\"2\">2</option><option
        value=\"3\">3</option><option value=\"4\">4</option><option value=\"5\">5</option><option
        value=\"6\">6</option><option value=\"7\">7</option><option value=\"8\">8</option></select>\r\n
        \               </div>\r\n                \r\n               </div> \r\n               <br/>\r\n
        \              <p><a href=\"javascript:var child=window.open('http://www.amtrak.com/servlet/Satellite?SnippetName=IBLegacy&pagename=am/AM_Snippet_C/SnippetWrapper&help=agrFindTicket','help','directories=0,dependent=1,menubar=0,top=20,left=20,width=680,height=600,scrollbars=1');child.focus();\"
        \ CLASS=\"smallblue\">Learn more</a> about redeeming points online for Amtrak
        travel.</p>                  \r\n             </div>\r\n      \t<br class=\"clear_both\"
        />            \r\n\t</form>\r\n </div>     \r\n\t\t <script language=\"JavaScript\"
        type=\"text/javascript\">        \r\n\t\t <!--\r\n\t\t\t if( $('ff_sub_tabbar_bookatrip').hasClassName(\"active\")
        ){\r\n\t\t\t\tshow_ff_sub_tab('bookatrip');\r\n\t \t\t } else if( $('ff_sub_tabbar_redeem').hasClassName(\"active\")
        ){\r\n\t\t \t\tshow_ff_sub_tab('redeem');\r\n\t \t\t }\r\n\t\t //-->\r\n\t\t
        </script>\r\n\t\t    \n                  \n       \n        <div id=\"farefinder_tabbody_traveloptions\"
        class=\"farefinder_tabbody\">\n            <div class=\"cmstraveloptions\"
        id=\"cmstraveloptions\">\n                 <p><a class=\"button\" href=\"/rail-deals-every-week-25-off-amtrak-fares-across-the-us\"><img
        src='https://www.amtrak.com/servlet/Satellite?blobcol=urldata&blobheader=image%2Fpng&blobkey=id&blobtable=MungoBlobs&blobwhere=1249288596252&ssbinary=true&eHA_media_type=.png'/></a><br
        />\r\n<a class=\"button\" href=\"http://tickets.amtrak.com/itd/amtrak/autotrain\"><img
        src='https://www.amtrak.com/servlet/Satellite?blobcol=urldata&blobheader=image%2Fpng&blobkey=id&blobtable=MungoBlobs&blobwhere=1249288596551&ssbinary=true&eHA_media_type=.png'/></a><br
        />\r\n<a class=\"button\" href=\"http://tickets.amtrak.com/itd/amtrak/multiride\"><img
        src='https://www.amtrak.com/servlet/Satellite?blobcol=urldata&blobheader=image%2Fpng&blobkey=id&blobtable=MungoBlobs&blobwhere=1249288591884&ssbinary=true&eHA_media_type=.png'/></a><br
        />\r\n<a class=\"button\" href=\"http://tickets.amtrak.com/itd/amtrak/selectpass\"><img
        src='https://www.amtrak.com/servlet/Satellite?blobcol=urldata&blobheader=image%2Fpng&blobkey=id&blobtable=MungoBlobs&blobwhere=1249288591915&ssbinary=true&eHA_media_type=.png'/></a><br
        />\r\n<a class=\"button\" href=\"/hotels-cars-travel-insurance-and-more\"><img
        src='https://www.amtrak.com/servlet/Satellite?blobcol=urldata&blobheader=image%2Fpng&blobkey=id&blobtable=MungoBlobs&blobwhere=1249288591946&ssbinary=true&eHA_media_type=.png'/></a><br
        />\r\n<a class=\"button\" href=\"http://tickets.amtrak.com/itd/amtrak/grouptravel\"><img
        src='https://www.amtrak.com/servlet/Satellite?blobcol=urldata&blobheader=image%2Fpng&blobkey=id&blobtable=MungoBlobs&blobwhere=1249288591983&ssbinary=true&eHA_media_type=.png'/></a></p>\n\n
        \           </div>\n        </div>\n       \n      \n    <div id=\"farefinder_tabbody_status\"
        class=\"farefinder_tabbody\">\n        \n           \n           <div id=\"status_by_train_number\">\n
        \          <form onsubmit=\"javascript:return CheckMandatoryTrainStatusFieldsForStatusByTrainNumber();\"
        name=\"ff_status_form1\" action=\"https://tickets.amtrak.com/itd/amtrak\"
        method=\"post\"><input type=\"hidden\" name=\"requestor\" value=\"amtrak.presentation.handler.page.rail.AmtrakRailGetTrainStatusPageHandler\"
        />             \n               <input type=\"hidden\" name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/@trainStatusType\"
        value=\"statusByTrainNumber\" />\n               <h2>Status</h2>\n\n               <div
        id=\"ff_status_step_1\" class=\"subdiv1\">    \n                    <div id=\"status_arr_or_dep_wrapper\">
        \n                       \n                           \n                               <p>\n
        \                               <input type=\"hidden\" name=\"xwdf_SortBy\"
        value=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/journeyRequirements[1]/departDate/@radioSelect\"
        /><input type=\"radio\" id=\"status_arr\" name=\"wdf_SortBy\" value=\"arrivalTime\"
        onclick=\"javascript:return setDepartOrArrivalFieldVisibility();\" checked=\"checked\"
        />\n                                <label for=\"status_arr\">\n                                    Arrival
        Status\n                                </label>                                        \n
        \                              </p>\n                               <p>\n
        \                               <input type=\"hidden\" name=\"xwdf_SortBy\"
        value=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/journeyRequirements[1]/departDate/@radioSelect\"
        /><input type=\"radio\" id=\"status_dep\" name=\"wdf_SortBy\" value=\"departTime\"
        onclick=\"javascript:return setDepartOrArrivalFieldVisibility();\" />\n                                <label
        for=\"status_dep\">\n                                    Departure Status\n
        \                               </label>\n                               </p>\n
        \                          \n                           \n                       \n
        \                      \n                   </div>\n                   \n
        \                  <div id=\"status_dep_city\" class=\"ff_status_city_wrapper\">
        \                      \n                       <label for=\"status_from\">\n
        \                          Station\n                       </label> \n                       \n
        \                      <!-- itd:locationinput id=\"status_dep\" wdfxpath=\"travelSelection/journeySelection[1]/departLocation\"
        wdfhtmlname=\"wdf_origin\" wdflimitedlocations=\"resource:TRAVEL_USE_LIMITED_LOCATIONS\"
        size=\"25\" / -->\n                       <div id=\"div_depart_station\">\n\t
        \                      <input type=\"hidden\" name=\"xwdf_origin\" value=\"/sessionWorkflow/productWorkflow[@product='Rail']/travelSelection/journeySelection[1]/departLocation/search\"
        /><input type=\"text\" autocomplete=\"off\" id=\"status_from\" maxlength=\"150\"
        name=\"wdf_origin\" value=\"askdf\" />\n\t                       <p><span
        class=\"find_a_station\">\n\t                           <a title=\"Click for
        a list of stations.\" href=\"javascript:fieldName='status_from'; openStationList();\">Find
        a Station</a>\n\t                       </span></p>\n                       </div>\n
        \                      <div id=\"div_arrive_station\">\n                           <input
        type=\"hidden\" name=\"xwdf_destination\" value=\"/sessionWorkflow/productWorkflow[@product='Rail']/travelSelection/journeySelection[1]/arriveLocation/search\"
        /><input type=\"text\" autocomplete=\"off\" id=\"status_to\" maxlength=\"150\"
        name=\"wdf_destination\" value=\"Boston - Back Bay, MA (BBY)\" />\n                           <p><span
        class=\"find_a_station\">\n                               <a title=\"Click
        for a list of stations.\" href=\"javascript:fieldName='status_to'; openStationList();\">Find
        a Station</a>\n                           </span></p>\n                       </div>\n
        \                  </div>\n                       <div id=\"status_from_auto\"
        class=\"autocomplete\" style=\"display:none\"></div>\n                       <div
        id=\"status_to_auto\" class=\"autocomplete\" style=\"display:none\"></div>\n
        \                  \n                   \n                   <div class=\"form_line_wrapper1\">
        \                               \n                       <label for=\"status_train_num\">\n
        \                          Train/Bus No.\n                       </label>\n
        \                      <span class=\"form_entry\">\n                           <input
        type=\"hidden\" name=\"xwdf_trainNumber\" value=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/journeyRequirements[1]/segmentRequirements[1]/serviceCode\"
        /><input onfocus=\"if (this.value=='optional') { this.value=''; updateMaxLength();
        };\" type=\"text\" size=\"4\" id=\"status_train_num\" maxlength=\"8\" name=\"wdf_trainNumber\"
        />\n                       </span>\n                   </div>\n                   \n
        \                  <div class=\"form_line_wrapper\">\n                     <div
        id=\"div_depart_date_label\">\n                        <label for=\"status_date\">\n
        \                           Depart Date\n                        </label>\n
        \                    </div>\n                     <div id=\"div_arrival_date_label\">\n
        \                       <label for=\"status_date\">\n                            Arrival
        Date\n                        </label>\n                     </div>\n                       \n
        \                    <span class=\"form_entry\">\n                        <input
        class=\"wdfDate\" type=\"text\" size=\"22\" id=\"wdfdate10\" maxlength=\"22\"
        name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/journeyRequirements[1]/departDate.usdate\"
        value=\"12/31/2015\" /><a class=\"calLink noloading\" id=\"calLink10\">&nbsp;</a><br
        /><div id=\"calContainer10\"  class=\"calContainer\"  bookingpath=\"checkStatus\"
        calwrapper=\"status_by_train_number\" caloffsetx=\"53\" calpickerxpos=\"50\"
        mindate=\"-5d\" maxdate=\"+5d\"></div>                                                                            \n
        \                    </span>\n                   </div>                                    \n
        \                  <br class=\"clear_both\" />    \n               </div>\n
        \              <div id=\"ff_status_submit_wrapper\" class=\"subdiv\">\n                   <input
        type=\"hidden\" name=\"_handler=amtrak.presentation.handler.request.rail.AmtrakRailTrainStatusSearchRequestHandler/_xpath=/sessionWorkflow/productWorkflow[@product='Rail']\"
        />\n                   <input type=\"image\" alt=\"Check Status\" name=\"_handler=amtrak.presentation.handler.request.rail.AmtrakRailTrainStatusSearchRequestHandler/_xpath=/sessionWorkflow/productWorkflow[@product='Rail']\"
        onclick=\" javascript:return (ValidateStatusDate('wdfdate10') )\" src=\"/images/en/btn_checkStatus.gif\"
        border=\"0\" />\n               </div>\n               \n               <div
        class=\"form_line_wrapper subdiv2\">\n                   Late trains often
        make up time en route and may arrive earlier than expected. When trains are
        late, we suggest you arrive at your departure station prior to the estimated
        arrival or departure time.\n               </div>\n               <div class=\"form_line_wrapper
        subdiv\">\n                   <h3 style=\"margin-bottom:2px;\">Don't know
        your train number?</h3>\n                   <a href=\"javascript:switchToStatusByCity();\">Check
        status by city</a>\n               </div>\n              </form> \n             </div>
        \                         \n                          \n             \n                         \n
        \            <div id=\"status_by_city_pair\">\n                <form onsubmit=\"javascript:return
        CheckMandatoryTrainStatusFieldsForStatusByCityPair();\" name=\"ff_status_form2\"
        action=\"https://tickets.amtrak.com/itd/amtrak\" method=\"post\"><input type=\"hidden\"
        name=\"requestor\" value=\"amtrak.presentation.handler.page.rail.AmtrakRailGetTrainStatusPageHandler\"
        />\n                <input type=\"hidden\" name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/@trainStatusType\"
        value=\"statusByCityPair\" />\n                <input type=\"hidden\" name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/journeyRequirements[1]/departDate/@radioSelect\"
        value=\"arrivalTime\" />\n                \n                <div id=\"ff_status_step_1\"
        class=\"subdiv\">\n                   <div id=\"status_dep_city\" class=\"ff_status_city_wrapper
        citypair_from\">\n                       <label for=\"status_from\">\n                           From\n
        \                      </label> \n                       \n                       <!--
        itd:locationinput id=\"status_dep\" wdfxpath=\"travelSelection/journeySelection[1]/departLocation\"
        wdfhtmlname=\"wdf_origin\" wdflimitedlocations=\"resource:TRAVEL_USE_LIMITED_LOCATIONS\"
        size=\"25\" / -->\n                       <input type=\"hidden\" name=\"xwdf_origin\"
        value=\"/sessionWorkflow/productWorkflow[@product='Rail']/travelSelection/journeySelection[1]/departLocation/search\"
        /><input type=\"text\" autocomplete=\"off\" id=\"status_from1\" maxlength=\"150\"
        name=\"wdf_origin\" value=\"askdf\" />\n                       <p><span class=\"find_a_station\">\n
        \                          <a title=\"Click for a list of stations.\" href=\"javascript:fieldName='status_from1';
        openStationList();\">Find a Station</a>\n                       </span></p>\n
        \                  </div>\n\n                   <div id=\"status_arr_city\"
        class=\"ff_status_city_wrapper\">\n                       <label for=\"status_to\">\n
        \                          To\n                       </label> \n                       <!--
        itd:locationinput id=\"status_to\" wdfxpath=\"travelSelection/journeySelection[1]/arriveLocation\"
        wdfhtmlname=\"wdf_destination\" wdflimitedlocations=\"resource:TRAVEL_USE_LIMITED_LOCATIONS\"
        size=\"25\" / -->\n                       <input type=\"hidden\" name=\"xwdf_destination\"
        value=\"/sessionWorkflow/productWorkflow[@product='Rail']/travelSelection/journeySelection[1]/arriveLocation/search\"
        /><input type=\"text\" autocomplete=\"off\" id=\"status_to1\" maxlength=\"150\"
        name=\"wdf_destination\" value=\"Boston - Back Bay, MA (BBY)\" />                               \n
        \                      <p><span class=\"find_a_station\">\n                           <a
        title=\"Click for a list of stations.\" href=\"javascript:fieldName='status_to1';
        openStationList();\">Find a Station</a>\n                       </span></p>\n
        \                  </div>\n                   \n                   <div id=\"status_from_auto1\"
        class=\"autocomplete\" style=\"display:none\"></div>\n                   <div
        id=\"status_to_auto1\" class=\"autocomplete\" style=\"display:none\"></div>
        \ \n                   \n                   <div class=\"form_line_wrapper\">
        \                       \n                    <div id=\"div_depart_date_label\">\n
        \                       <label for=\"status_date\">\n                            Arrival
        Date\n                        </label>\n                    </div>\n                    <span
        class=\"form_entry\">\n                       <input class=\"wdfDate\" type=\"text\"
        size=\"22\" id=\"wdfdate11\" maxlength=\"22\" name=\"/sessionWorkflow/productWorkflow[@product='Rail']/tripRequirements/journeyRequirements[1]/departDate.usdate\"
        value=\"12/31/2015\" /><a class=\"calLink noloading\" id=\"calLink11\">&nbsp;</a><br
        /><div id=\"calContainer11\"  class=\"calContainer\"  bookingpath=\"checkStatus\"
        calwrapper=\"status_by_train_number\" caloffsetx=\"53\" calpickerxpos=\"50\"
        mindate=\"-5d\" maxdate=\"+5d\"></div>                                                                            \n
        \                   </span>                    \n                </div>               \n
        \               <br class=\"clear_both\" /> \n               </div>\n               \n
        \              <div id=\"ff_status_submit_wrapper\" class=\"subdiv\">\n                 <input
        type=\"hidden\" name=\"_handler=amtrak.presentation.handler.request.rail.AmtrakRailTrainStatusSearchRequestHandler/_xpath=/sessionWorkflow/productWorkflow[@product='Rail']\"
        />\n                 <input type=\"image\" alt=\"Check Status\" name=\"_handler=amtrak.presentation.handler.request.rail.AmtrakRailTrainStatusSearchRequestHandler/_xpath=/sessionWorkflow/productWorkflow[@product='Rail']\"
        onclick=\" javascript:return (ValidateStatusDate('wdfdate11') )\" src=\"/images/en/btn_checkStatus.gif\"
        border=\"0\" />\n               </div>\n             \n\t            <div
        class=\"form_line_wrapper subdiv2\">\n\t               Late trains often make
        up time en route and may arrive earlier than expected. When trains are late,
        we suggest you arrive at your departure station prior to the estimated arrival
        or departure time.\n\t            </div>\n\t            <div class=\"form_line_wrapper
        subdiv\">\n\t               <h3 style=\"margin-bottom:45px;\"><a href=\"javascript:switchToStatusByTrain();\">Check
        status by train number</a></h3>\t                    \n                </div>\n
        \           </form>\n          </div>\n         \n         \n    </div>\n
        \           \n            <div id=\"farefinder_tabbody_mytrip\" class=\"farefinder_tabbody\">\n
        \               <h2>My Trip</h2>\n                <div id=\"ff_mytrip_step_1\"
        class=\"subdiv\">\n                    <form onsubmit=\"javascript:return
        CheckMandatoryMyTripFields(this)\" name=\"mytrip_res\" action=\"https://tickets.amtrak.com/itd/amtrak\"
        method=\"post\"><input type=\"hidden\" name=\"requestor\" value=\"amtrak.presentation.handler.page.rail.AmtrakRailGetTrainStatusPageHandler\"
        />\n                        <h3>Find a Reservation</h3>\n                        <div
        class=\"form_line_wrapper first\">\n                            <label for=\"mytrip_res_num\">Reservation
        Number</label><span class=\"form_entry\">\n                            <input
        type=\"text\" id=\"mytrip_res_num\" name=\"/sessionWorkflow/itineraryWorkflow/basket/booking/reference\"
        value=\"\" />\n                            </span>\n                        </div>\n
        \                       <div class=\"form_line_wrapper\">\n                            <strong>and</strong>\n
        \                       </div>\n                        <div class=\"form_line_wrapper\">\n
        \                           <label for=\"mytrip_res_email\">E-mail Address</label><span
        class=\"form_entry\">\n                            <input type=\"text\" autocomplete=\"off\"
        id=\"mytrip_res_email\" name=\"/sessionWorkflow/itineraryWorkflow/basket/booking/bookingOptions/bookingFulfilment/contact/contactEmailAddress/emailAddress\"
        value=\"\" />\n                            </span>\n                        </div>\n
        \                       <div class=\"form_line_wrapper\">\n                            <div
        class=\"separator\">-or-</div>\n                        </div>\n                        <div
        class=\"form_line_wrapper\">\n                            <label for=\"mytrip_res_zip\">Telephone
        Number</label><span class=\"form_entry\">\n                            <input
        type=\"text\" id=\"mytrip_res_zip\" name=\"/sessionWorkflow/itineraryWorkflow/basket/booking/bookingOptions/bookingFulfilment/contact/contactTelephone/number\"
        value=\"\" />\n                            </span>\n                        </div>\n
        \                       <div id=\"ff_mytrip_res_submit\">\n                            <input
        type=\"hidden\" name=\"_handler=com.sita.ats.amtrak.presentation.handler.request.itinerary.AmtrakLoggedOutTripDetailsRequestHandler\"
        />\n                            <input class=\"image\" type=\"image\" alt=\"Find
        Reservation\" name=\"_handler=com.sita.ats.amtrak.presentation.handler.request.itinerary.AmtrakLoggedOutTripDetailsRequestHandler\"
        src=\"/images/en/btn_find.gif\" />\n                        </div>\n                    </form>\n
        \               </div>\n\n                             \n                <div
        id=\"ff_mytrip_step_2\" class=\"subdiv\">\n                    <div id=\"mytrip_or\"><span>Or</span></div>\n
        \                   \n                    <form onsubmit=\"javascript:return
        CheckMandatoryLoginFields(this)\" name=\"mytrip_acct\" action=\"https://tickets.amtrak.com/itd/amtrak\"
        method=\"post\"><input type=\"hidden\" name=\"requestor\" value=\"amtrak.presentation.handler.page.rail.AmtrakRailGetTrainStatusPageHandler\"
        />\n\t\t\t\t\t\t<input type=\"hidden\" name=\"/sessionWorkflow/userWorkflow/profileAccountRequirements/@logontype\"
        value=\"mytrip\" /> \n                        <h3>Log in to your Amtrak.com
        Account</h3>\n                        <div class=\"form_line_wrapper\">\n
        \                           <label for=\"mytrip_acct_email\">E-mail Address</label><span
        class=\"form_entry\">\n                            <input type=\"hidden\"
        name=\"xwdf_username\" value=\"/sessionWorkflow/userWorkflow/profileAccountRequirements/userName\"
        /><input autocomplete=\"off\" type=\"text\" id=\"mytrip_acct_email\" maxlength=\"64\"
        name=\"wdf_username\" />\n                            </span>\n                        </div>\n
        \                       <div class=\"form_line_wrapper\">\n                            <label
        for=\"mytrip_acct_pwd\">Password</label><span class=\"form_entry\">\n                            <input
        type=\"hidden\" name=\"xwdf_password\" value=\"/sessionWorkflow/userWorkflow/profileAccountRequirements/password\"
        /><input type=\"password\" autocomplete=\"off\" id=\"mytrip_acct_pwd\" maxlength=\"20\"
        name=\"wdf_password\" />\n                            </span>\n                        </div>\n
        \                       <div id=\"ff_mytrip_acct_submit\">\n                            \n
        \                               <a class=\"forgot_pass\" title=\"Click here
        to request your Password\" href=\"javascript:openForgotPwdBox();\">Forgot
        password?</a>\n                            \n                            \n
        \                           <input type=\"hidden\" name=\"_handler=com.sita.ats.amtrak.presentation.handler.request.profile.AmtrakProfileLogonRequestHandler/_xpath=/sessionWorkflow/userWorkflow/profileAccountRequirements\"
        />\n                            <input type=\"image\" alt=\"Log In\" name=\"_handler=com.sita.ats.amtrak.presentation.handler.request.profile.AmtrakProfileLogonRequestHandler/_xpath=/sessionWorkflow/userWorkflow/profileAccountRequirements\"
        onclick=\"\" src=\"/images/en/btn_login.gif\" />\n                        </div>\n
        \                   </form>\n\t\t\t\t\t\n                </div>\n\t\t\t\t\t\n
        \           </div>\t\t\n        </div>\n    \n    \n    \n\t  \n\t     \n\t
        \     <script type=\"text/javascript\" language=\"javascript\" charset=\"utf-8\">\n
        \       // <![CDATA[\n\n          new Ajax.Autocompleter('departs','autocomplete_availability_from',
        '/itd/amtrak/AutoComplete', {\n            paramName: \"_origin\",\n            minChars:
        2,\n            frequency: 0.5\n            }\n          );        \n                   \n
        \         new Ajax.Autocompleter('arrives','autocomplete_availability_to','/itd/amtrak/AutoComplete',
        {\n            paramName: \"_destination\",\n            minChars: 2,\n            frequency:
        0.5\n            }\n          );\n\n          new Ajax.Autocompleter('agrdeparts','redeem_from_auto',
        '/itd/amtrak/AutoComplete', {\n              paramName: \"_origin\",\n              minChars:
        2,\n              frequency: 0.5\n              }\n            );        \n
        \                    \n            new Ajax.Autocompleter('agrarrives','redeem_to_auto','/itd/amtrak/AutoComplete',
        {\n              paramName: \"_destination\",\n              minChars: 2,\n
        \             frequency: 0.5\n              }\n            );\n\n\n\t\tnew
        Ajax.Autocompleter('status_from','status_from_auto','/itd/amtrak/AutoComplete',
        {\n\t\t\tparamName: \"_origin\",\n\t\t\tminChars: 2,\n\t\t\tfrequency: 0.5\n\t\t\t}\n\t\t);\n\t\t\n\t\tnew
        Ajax.Autocompleter('status_to','status_to_auto','/itd/amtrak/AutoComplete',
        {\n\t\t\tparamName: \"_destination\",\n\t\t\tminChars: 2,\n\t\t\tfrequency:
        0.5\n\t\t\t}\n\t\t);\n\t\t\n\t\tnew Ajax.Autocompleter('status_from1','status_from_auto1','/itd/amtrak/AutoComplete',
        {\n            paramName: \"_origin\",\n            minChars: 2,\n            frequency:
        0.5\n            }\n        );\n        \n        new Ajax.Autocompleter('status_to1','status_to_auto1','/itd/amtrak/AutoComplete',
        {\n            paramName: \"_destination\",\n            minChars: 2,\n            frequency:
        0.5\n            }\n\t\t);\n\n        // ]]>\n      </script>\n\t       \n
        \       <!-- End HTML for Fare Finder -->\n        \n        \n<script language=\"JavaScript\"
        type=\"text/javascript\">        \n<!--\n\nfunction CheckMandatoryTrainStatusFieldsForStatusByTrainNumber()
        {\n\tvar errorMsg = \"\";\n\tvar fieldList = \"\";\t    \n\n    var arrivalStatus_checked
        = document.ff_status_form1.status_arr.checked;\n    var departureStatus_checked
        = document.ff_status_form1.status_dep.checked;  \n    var origin = document.ff_status_form1.wdf_origin.value;\n
        \   var destination = document.ff_status_form1.wdf_destination.value;\n    var
        trainNumber = document.ff_status_form1.wdf_trainNumber.value;\n\n    if(trainNumber
        == \"\") {\n      trainNumber = \"\";\n    }      \n\n    if (departureStatus_checked
        && origin == \"\") \n        fieldList = fieldList + \" -- Departure Station\"
        + \"\\n\";\n      \t\n    if (arrivalStatus_checked && destination == \"\")\n
        \       fieldList = fieldList + \" -- Arrival Station\" + \"\\n\";\n        \n
        \   if (trainNumber == \"\" || ((trainNumber != \"\") && (!IsNumber(trainNumber))))\n
        \       fieldList = fieldList + \" -- Valid Train or Bus Number\" + \"\\n\";\n\n
        \   if (fieldList != \"\")  \n        errorMsg = \"The following information
        is needed to process your request:\" + \"\\n\" + fieldList;\n        \n        \n
        \   if (errorMsg != \"\"){\n        alert(errorMsg);\n        return false;\n
        \   }\n\n    if(arrivalStatus_checked) {\n    \tdocument.ff_status_form1.wdf_origin.value
        = '';\n    } else if(departureStatus_checked) {\n    \tdocument.ff_status_form1.wdf_destination.value
        = '';\n    }\n    return true;    \n}\n\n\nfunction CheckMandatoryTrainStatusFieldsForStatusByCityPair()
        {\n    var errorMsg =\"\";\n    var fieldList = \"\";\n        \n    var origin
        = document.ff_status_form2.wdf_origin.value;\n    var destination = document.ff_status_form2.wdf_destination.value;\n\n
        \   if (origin == \"\") \n        fieldList = fieldList + \" -- From\" + \"\\n\";\n
        \                     \n    if (destination == \"\") \n        fieldList =
        fieldList + \" -- To\" + \"\\n\";\n      \n    if (fieldList != \"\")\n        errorMsg
        = \"The following information is needed to process your request:\" + \"\\n\"
        + fieldList;\n      \n    if (errorMsg != \"\") {\n        alert(errorMsg);\n
        \       return false;\n    }\n      \n    return true;      \n}\n\nfunction
        CheckMandatoryScheduleFields(statusForm) {\n  var errorMsg =\"\";\n  var fieldList
        = \"\";\n\t\n  var origin = statusForm.wdf_origin.value;\n  var destination
        = statusForm.wdf_destination.value;\n  \n  if (origin == \"\" && destination
        == \"\") \n    fieldList = \"Problem with Departure and Arrival Station/City:
        Please provide a valid departure and arrival station or city name and resubmit.
        \\n[Error ID: 573S]\" + \"\\n\"; \n\n  if (origin != \"\" && destination ==
        \"\") \n    fieldList = fieldList + \"Problem with Departure and Arrival Station/City:
        Please provide a valid departure and arrival station or city name and resubmit.
        \\n[Error ID: 573S]\" + \"\\n\"; \n  \n  if (origin == \"\" && destination
        != \"\") \n    fieldList = fieldList + \"Problem with Departure and Arrival
        Station/City: Please provide a valid departure and arrival station or city
        name and resubmit. \\n[Error ID: 573S]\" + \"\\n\"; \n\n  if (fieldList !=
        \"\") { \n    errorMsg = \"The following information is needed to process
        your request:\" + \"\\n\\n\" + fieldList;\n  }\n  if (errorMsg != \"\") {\n
        \   alert(errorMsg);\n    return false;\n  }\n  return true;\n}\n\nfunction
        CheckMandatoryMyTripFields(theForm) {\n  var errorMsg =\"\";\n  var fieldList
        = \"\";\n  \n  if ($('mytrip_res_num').value.empty()) {\n    fieldList +=
        \" -- reservation number\\n\";\n  }\n  if ($('mytrip_res_email').value.empty()
        && $('mytrip_res_zip').value.empty()) {\n    fieldList += \" -- email address
        or telephone number\\n\";\n  }\n  \n  if (fieldList != \"\") {\n    errorMsg=\"The
        following information is needed to process your request:\" + \"\\n\" + fieldList+
        \"\\n\\n\";\n    alert(errorMsg);\n    return false;\n  }\n  return true;\n}\n\nfunction
        CheckMandatoryMyTripFields(theForm) {\n  var errorMsg =\"\";\n  var fieldList
        = \"\";\n  \n  if ($('mytrip_res_num').value.empty()) {\n    fieldList +=
        \" -- reservation number\\n\";\n  }\n  if ($('mytrip_res_email').value.empty()
        && $('mytrip_res_zip').value.empty()) {\n    fieldList += \" -- email address
        or telephone number\\n\";\n  }\n  \n  if (fieldList != \"\") {\n    errorMsg=\"The
        following information is needed to process your request:\" + \"\\n\" + fieldList+
        \"\\n\\n\";\n    alert(errorMsg);\n    return false;\n  }\n  return true;\n}\n\nfunction
        CheckMandatoryLoginFields(theForm) {\n  var errorMsg =\"\";\n  var fieldList
        = \"\";\n  \n  if(eval(\"theForm.wdf_username.value\") == \"\") {\n    fieldList
        += \" -- username\\n\";\n  }\n  if(eval(\"theForm.wdf_password.value\") ==
        \"\") {\n    fieldList += \" -- password\\n\";\n  }\n  \n  if (fieldList !=
        \"\") {\n    errorMsg=\"The following information is needed to process your
        request:\" + \"\\n\" + fieldList+ \"\\n\\n\";\n    alert(errorMsg);\n    return
        false;\n  }\n  return true;\n}\n\n//Aibe-2026,Mac safari issue.\nfunction
        updateMaxLength()\n{\n  trainNum = document.getElementById('status_train_num');\n
        \ trainNum.setAttribute(\"maxLength\", 4);\n}\n\nfunction validatePasswordSize()
        {\n  var memberPwd = document.getElementById('ff_memberpassword');\n  if((memberPwd
        != null) && (memberPwd.value != \"\")) {\n  \tif ((memberPwd.value.length
        < '6') ||\n  \t \t(memberPwd.value.length > '29') ) {\n  \t  return 'The password
        you entered is invalid. Please try again or call 1-800-307-5000 for assistance
        (Sunday - Saturday, 5 am - midnight ET). [Error ID: 1114R]'; \t\n\t}    \n
        \ }\n  return \"\";\n}\n\nfunction checkRedeemMandatoryFields(theForm) {\n\t
        \ var errorMsg =\"\";\n\t  var fieldList = \"\";\n\t  var origin = document.ff_redeem_form.agrdeparts.value;\n\t
        \ var destination = document.ff_redeem_form.agrarrives.value;\n\t  var startDate
        = document.getElementById('wdfdate15').value;\n\t  var memberNo = document.getElementById('ff_membernumber');\n\t
        \ var memberPwd = document.getElementById('ff_memberpassword');\n\n\t  if
        (memberNo != null) { //member number null means login was already validated\n\t
        \ \tif (memberNo.value == \"\") {\n\t\t\tfieldList = fieldList + \" -- Member
        Number\\n\";\n\t\t}\t\n\t  }\n\t  \n\t  if(memberPwd != null) {//member password
        null means login was already validated\n\t  \tif (memberPwd.value == \"\")
        {\n\t\t    fieldList = fieldList + \" -- Member Passsword\\n\";\n\t\t}    \n\t
        \ }\n\t  \n\t  if (origin == \"\") {\n\t    fieldList = fieldList + \" --
        From\\n\";\n\t  }\n\n\t  if(destination == \"\") {\n\t    fieldList = fieldList
        + \" -- To\\n\";\n\t  }\n\t  \n\t  if (startDate == \"\" || startDate == 'Select
        a date') {\n\t    fieldList = fieldList + \" -- Day\\n\";\n\t  }\n\n\t  if
        (fieldList != \"\") {\n\t\terrorMsg=\"The following information is needed
        to process your request:\" + \"\\n\" + fieldList+ \"\\n\\n\";\n\t\talert(errorMsg);\n\t\treturn
        false;\n\t  }\n\t  \n\t  return fieldList;\n}\n\nfunction checkValidCouponCode(id){\n\n\tvar
        errorMsg='';\n\tvar newCouponCode = document.getElementById(id).value;\n\n
        \   if(newCouponCode == \"Promo Code\") {\n        document.getElementById('ff_disc_promoCode').value
        = \"\";\n        newCouponCode= \"\"\n    }   \n\n\tnewCouponCode = trim(newCouponCode);\n\t\n
        \   if(newCouponCode == '')\n        return true;\n\n    var isValidCode =
        validateCouponCode(newCouponCode);\n    \n    if(isValidCode == false) {\n
        \       errorMsg = 'Problem with Promotion Code: The Promotion Code you entered
        is not valid. Please check for accuracy and re-enter it, or continue without
        it. \\n[Error ID: 744S]';\n        \n    }         \n\n    if (errorMsg!=\"\"){\n
        \       alert(errorMsg);\n        return false;\n    } else {\n    \treturn
        true;\n    }\n\n}\nfunction trim(s) {\n    return s.replace(/^\\s+|\\s+$/g,
        \"\");\n}\n\nfunction ValidateStatusDate(id){\n    var errMsg=\"\";\n    var
        mindate = new Date();\n    var maxdate = new Date();\n    var numberOfDaysToAdd
        = +5;\n    var numberOfPastDays = -5;\n    mindate.setDate(mindate.getDate()
        + numberOfPastDays); \n    mindate= $j.datepicker.formatDate('mm/dd/yy', mindate);\n
        \   maxdate.setDate(maxdate.getDate() + numberOfDaysToAdd); \n    maxdate=
        $j.datepicker.formatDate('mm/dd/yy', maxdate);\n    var depdate=document.getElementById(id).value;\n
        \   \n    if (depdate != \"\" && validDateRange(mindate,maxdate,depdate) ==
        false ){\n    \terrMsg = 'Train status information is available only for today\\'s
        date, five days in the past, and five days in the future. Please select a
        valid date and resubmit.[Error ID: 568S]' ;\n    }\n    if (null != errMsg
        && errMsg != \"\" ) {\n               alert(errMsg);\n       return false;\n
        \   } else {\n        return true;\n    }\n        \n\n}\nfunction ValidateRedeemDate(id){\n
        \   var errMsg=\"\";\n    var mindate = new Date();\n    var newdate = new
        Date();\n\tvar numberOfDaysToAdd = '+335d';\n\tnumberOfDaysToAdd = parseInt(numberOfDaysToAdd.replace(/\\D/g,''));\n
        \   var mindate= $j.datepicker.formatDate('mm/dd/yy', newdate);\n    newdate.setDate(newdate.getDate()
        + numberOfDaysToAdd); \n    var maxdate= $j.datepicker.formatDate('mm/dd/yy',
        newdate);\n    var depdate=document.getElementById(\"wdfdate15\").value;\n
        \   \n    if (depdate != \"\" && validMinDateRange(mindate,depdate) == false
        ){\n        errMsg = 'Problem with Travel Date: Our system cannot make reservations
        for dates in the past. Check your date(s) and try again. [Error ID: 532S]\\n\\n'
        ;\n    }\n    if (depdate != \"\" && validMaxDateRange(maxdate,depdate) ==
        false ){\n        errMsg = 'Problem with Travel Date: Our system cannot make
        reservations for dates more than 11 months in the future. Check your date(s)
        and try again. [Error ID: 533S]' ;\n    }\n    \n    if (null != errMsg &&
        errMsg != \"\" ) {\n               alert(errMsg);\n       return false;\n
        \   } else {\n        return true;\n    }\n        \n\n}\n\n\n//-->\n</script>\n
        \n \n\r\n\r\n<meta name=\"WT.cg_s\" content=\"book\" />\r\n\r\n\r\n\r\n\n<meta
        name=\"DCSext.ORG\" content=\"askdf\" />\n<meta name=\"DCSext.DST\" content=\"preencoded:BBY\"
        />\n<meta name=\"DCSext.DDT\" content=\"2015/12/31\" />\n<meta name=\"DCSext.PAX\"
        content=\"0\" />\n<meta name=\"DCSext.SORT\" content=\"\" />\n<meta name=\"DCSext.PTP\"
        content=\"\" />\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n</div>\r\n\r\n<div id=\"special_booking_menu\">\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<style
        type=\"text/css\">\r\n<!--\r\n@import url(/css/basic_booking.css?v=1.3);\r\n-->\r\n</style>\r\n\r\n\r\n\r\n<span
        id=\"IB_diginet_div\">\r\n\r\n</span>\r\n\r\n\r\n\r\n\r\n</div>\r\n\r\n<div
        id=\"mb_column_1_confirmation\">\r\n<form name=\"form\" action=\"https://tickets.amtrak.com/itd/amtrak\"
        method=\"post\"><input type=\"hidden\" name=\"requestor\" value=\"amtrak.presentation.handler.page.rail.AmtrakRailGetTrainStatusPageHandler\"
        />\r\n\r\n\r\n<div id=\"amtrak_error_id\" class=\"error\"><b>We were unable
        to process your request:</b> Please correct the error(s) shown below and resubmit.<hr
        /><b>Problem with Departure Station or City Name:</b> Unfortunately, we cannot
        find a departure station matching the text you entered. To find a specific
        station, please try entering different text, or click on the &#39;Find a Station&#39;
        link and select a station from the list provided and resubmit. You may also
        click the &#39;Stations&#39; tab above to find Amtrak stations in the vicinity
        of your requested city. <br>[Error ID: 527S]<hr />Warning: This site is designed
        for Internet Explorer, Netscape/Gecko and Opera<br />Some pages may not display
        correctly as a result</div>\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<style type=\"text/css\">\r\n#pagination_bar
        {\r\nclear:both;\r\npadding-top: 20px;\r\nfont-family: Arial, Verdana, Helvetica,
        sans-serif;\r\nsize: 108%;\r\ncolor: #1375b3;\r\n}\r\n#pagination_bar #pagination_data
        {\r\nwidth: 49%;\r\nfloat: left;\r\ntext-align: left;\r\npadding-bottom: 1px;\r\n}\r\n#pagination_bar
        #pagination_nav {\r\nwidth: 49%;\r\nfloat: right;\r\ntext-align: right;\r\npadding-bottom:
        1px;\r\n}\r\n#pagination_bar #pagination_nav span {\r\npadding-left: 10px;\r\n}\r\n#pagination_bar
        #pagination_nav a, #availability_grid #pagination_bar #pagination_nav a:visited,
        #availability_grid #pagination_bar #pagination_nav a:hover {\r\ncolor: #1375b3;\r\n}\r\n#pagination_bar
        #pagination_nav a.selected, #availability_grid #pagination_bar #pagination_nav
        a.selected:visited, #availability_grid #pagination_bar #pagination_nav a.selected:hover
        {\r\ncolor: #ff9933;\r\ntext-decoration: none;\r\ncursor: text;\r\nbackground-color:
        white;\r\n}\r\n#loadingtrain {\r\nwidth:100px;\r\nheight: 100px;\r\nposition:
        fixed;\r\ntop: 50%;\r\nleft: 60%;\r\nbackground:url(/images/en/superpnr/image_loader_blue.gif)
        no-repeat center #fff;\r\ntext-align:center;\r\npadding:10px;\r\nfont:normal
        16px Tahoma, Geneva, sans-serif;\r\nborder:1px solid #666;\r\nmargin-left:
        -50px;\r\nmargin-top: -50px;\r\nz-index:2;\r\noverflow: auto;\r\n}\r\n#loadingfailed
        {\r\nwidth:100px;\r\nheight: 100px;\r\nposition: fixed;\r\ntop: 50%;\r\nleft:
        60%;\r\nbackground:#fff;\r\ntext-align:center;\r\npadding:10px;\r\nfont:normal
        16px Tahoma, Geneva, sans-serif;\r\nborder:1px solid #666;\r\nmargin-left:
        -50px;\r\nmargin-top: -50px;\r\nz-index:2;\r\noverflow: auto;\r\n}\r\n#overlay
        {\r\nbackground-color:#EEE;\r\n}\r\n.statusalert_icon{\r\nfloat:left;\r\npadding:
        9px 10px 0 10px;\r\n}\r\n.statusalert_icon2{\r\npadding-right:10px;\r\npadding-top:3px;\r\nfloat:left;\r\n}\r\n</style>\r\n<script
        language=\"JavaScript\" type=\"text/javascript\" src=\"/itd/project/scripts/en/amtrak/basic_pagination_trainstatus.js\"></script>\r\n<script
        language=\"JavaScript\" type=\"text/javascript\" src=\"/itd/project/scripts/en/amtrak/selecttrain.js\"></script>\r\n<script
        type=\"text/javascript\">\r\nvar pageDisplay = '10';\r\nvar currentPage =
        0;\r\nvar availabilityLength = '0';\r\nvar trainStatusType = 'statusByCityPair';\r\nvar
        statusResult;\r\nElement.observe(window, 'load', function(){\r\nshow_ff_tab('status');\r\nif(trainStatusType
        == 'statusByTrainNumber') {\r\nswitchToStatusByTrain();\r\n} else if(trainStatusType
        == 'statusByCityPair') {\r\nswitchToStatusByCity();\r\n}\r\nsetDepartOrArrivalFieldVisibility();\r\npageFilterDisplay(availabilityLength);\r\n});\r\n</script>\r\n\r\n\r\n\r\n<meta
        name=\"WT.cg_s\" content=\"status\" />\r\n\n\r\n\r\n\r\n</form>\r\n</div>\r\n<br
        class=\"clear_both\" />\r\n</div>\r\n</div>\r\n</div>\r\n\r\n\t   \t\r\n<script
        language=\"JavaScript\">\r\n<!--\r\nfunction getProfileStr(){\r\nreturn 'amtrak';\r\n}\r\ndocument.write('<meta
        name=\"DCSext.PROFILE\" content=\"'+getProfileStr()+'\" />');\r\n// -->\r\n</script>\r\n<meta
        name=\"WT.cg_n\" content=\"booking\" />\r\n\r\n\r\n\t    \r\n<!-- START OF
        SmartSource Data Collector TAG -->\r\n<!-- Copyright (c) 1996-2011 WebTrends
        Inc.  All rights reserved. -->\r\n<!-- Version: 9.3.0 -->\r\n<!-- Tag Builder
        Version: 3.1  -->\r\n<!-- Created: 2/11/2011 4:14:35 PM -->\r\n<script src=\"/itd/project/scripts/en/sitewise/webtrends_session.js\"
        type=\"text/javascript\"></script>\r\n<!-- -----------------------------------------------------------------------------------
        -->\r\n<!-- Warning: The two script blocks below must remain inline. Moving
        them to an external -->\r\n<!-- JavaScript include file can cause serious
        problems with cross-domain tracking.      -->\r\n<!-- -----------------------------------------------------------------------------------
        -->\r\n<script type=\"text/javascript\">\r\n//<![CDATA[\r\nvar _tag=new WebTrends();\r\nvar
        defSiteWiseParams = \"&PROFILE=amtrak&WT.cg_n=booking\";\r\nvar CMS_dcsqry
        = window.location.search + defSiteWiseParams;\r\n//]]>\r\n</script>\r\n<script
        type=\"text/javascript\">\r\n//<![CDATA[\r\n_tag.dcsCustom=function(){\r\n//
        Add custom parameters here.\r\n//_tag.DCSext.param_name=param_value;\r\n}\r\n_tag.dcsCollect();\r\n//]]>\r\n</script>\r\n<noscript>\r\n<div><img
        alt=\"DCSIMG\" id=\"DCSIMG\" width=\"1\" height=\"1\" src=\"http://statse.webtrendslive.com/dcsn42u4k11e5hyzziz7zntl5_1j8l/njs.gif?dcsuri=/nojavascript&amp;WT.js=No&amp;DCS.dcscfg=1&amp;WT.tv=9.3.0&amp;WT.dcssip=www.amtrak.com\"/></div>\r\n</noscript>\r\n<!--
        END OF SmartSource Data Collector TAG -->\r\n\r\n\t   \t\r\n        \r\n              \r\n
        \             \r\n\r\n\r\n<div id=\"forgot_passwordwin\" >\r\n<div id=\"pwdwin_error\"
        class=\"error\"> </div>\r\n<h3>Reset Your Password</h3>\r\n\r\n<div id=\"confirmpwdreset\"
        style=\"display:none;\">\r\n<p>An e-mail with password reset instructions
        is on its way.</p>\r\n</div>\r\n<div id=\"pwdresetsec\">\r\n<p>To receive
        an e-mail that allows you to reset your password, please enter the e-mail
        address associated with your account.  </p>\r\n<label for=\"emailaddress\">E-mail
        Address</label><br/>\r\n<input type=\"hidden\" name=\"xwdf_email_address\"
        value=\"/sessionWorkflow/userWorkflow/profilePersonRequirements/primaryEmailAddress\"
        /><input class=\"forgotpwd_emailaddress \" autocomplete=\"off\" type=\"text\"
        size=\"32\" id=\"pwdemailaddress\" maxlength=\"64\" name=\"wdf_email_address\"
        /><br/>\r\n<input type=\"image\" alt=\"\" name=\"_xpath=/sessionWorkflow/userWorkflow/profilePersonRequirements\"
        onclick=\"javascript:sendPasswordReset()\" src=\"/images/en/btn_continue.gif\"
        border=\"0\" />\r\n</div>\r\n\r\n</div>\r\n<script>\r\n<!--\r\nvar closeCrossButton
        = '<a id=\"forgotpassword_close\" class=\"button right_align\" href=\"javascript:closeForgotPwdBox();\"><img
        \ src=\"/images/en/btn_windowClose.png\" alt=\"Close\" /></a>';\r\nfunction
        show_disabledFareAlert() {\r\ndocument.getElementById(\"forgot_passwordwin\").style.display
        = 'block';\r\n}\r\nfunction closeForgotPwdBox() {\r\nvar $j = jQuery.noConflict();\r\n$j(\".ui-dialog-content\").dialog(\"close\");\r\n}\r\nfunction
        openForgotPwdBox() {\r\nvar $j = jQuery.noConflict();\r\n$j( document ).ready(function()
        {\r\n$j( \"#forgot_passwordwin\" ).dialog({\r\nresizable: false,\r\nwidth:100,\r\ndialogClass:'pwdwin',\r\nmodal:
        true\r\n});\r\nif ($('forgotpassword_close') == null) {\r\n$j($('forgot_passwordwin')).before(closeCrossButton);\r\n}\r\n$j(\".ui-dialog\").position({\r\n\"my\":
        \"left top+300\",\r\n\"at\": \"left+400\",\r\n\"of\": $j(\"#top_navigation_body\")\r\n});\r\n$j('#forgotpassword_close').blur();\r\ndocument.getElementById(\"pwdwin_error\").style.display
        = 'none';\r\ndocument.getElementById(\"forgot_passwordwin\" ).style.display
        = 'block';\r\ndocument.getElementById(\"confirmpwdreset\").style.display =
        'none';\r\ndocument.getElementById(\"pwdresetsec\").style.display = 'block';\r\n});\r\n}\r\nfunction
        sendPasswordReset(){\r\nvar emailaddress = document.getElementById('pwdemailaddress').value;\r\nvar
        url = \"/\" + \"itd/amtrak\" + \"/resetpassword\";\r\ndocument.getElementById(\"pwdwin_error\").innerHTML
        = \"\";\r\ndocument.getElementById(\"pwdwin_error\").style.display = 'none';\r\nnew
        Ajax.Request(url,\r\n{ method: 'post',\r\nparameters: {'emailaddress':emailaddress},\r\nonComplete:
        function (transport) {\r\nif(transport.responseText!='') {\r\nif(transport.responseText
        == 'valid') {\r\ndocument.getElementById(\"pwdresetsec\").style.display =
        'none';\r\ndocument.getElementById(\"confirmpwdreset\").style.display = 'block';\r\n}
        else {\r\ndocument.getElementById(\"confirmpwdreset\").style.display = 'none';\r\ndocument.getElementById(\"pwdresetsec\").style.display
        = 'block';\r\ndocument.getElementById(\"pwdwin_error\").innerHTML = transport.responseText;\r\ndocument.getElementById(\"pwdwin_error\").style.display
        = 'block';\r\n}\r\n}\r\n},\r\nonFailure: function (transport) {\r\ndocument.getElementById(\"confirmpwdreset\").style.display
        = 'none';\r\n}\r\n});\r\n}\r\n//-->\r\n</script>\r\n\r\n        \r\n        \r\n\t
        \  \t\r\n\t   \t\r\n        <!-- javascript for SSO -->\r\n\t    <script type=\"text/javascript\">\r\n\t
        \       var agrHost = ((\"https:\"== document.location.protocol) ? \"https://agr.amtrak.com/m/js\":\"http://agr.amtrak.com/m/js\");
        \r\n          \t        document.write(\r\n                      unescape(\"%3Cscript
        src='\" + agrHost + \"/shoebox-simple.js' type='text/javascript'%3E%3C/script%3E\")\r\n
        \                   );\r\n\t    </script>\r\n        <!-- mp_trans_remove_start
        --><script type=\"text/javascript\" language=\"javascript\" src='https://askjulie.amtrak.com/ui/includes/NIT.Embed.js'
        id=\"agentScript\"></script><!-- mp_trans_remove_end -->\r\n        \r\n        \r\n
        \         <script type =\"text/javascript\">_satellite.pageBottom();</script>\r\n
        \       \r\n        \r\n        \r\n\t        \r\n        \r\n        \r\n
        \   </body> \t\r\n</html>"
    http_version: 
  recorded_at: Mon, 04 Jan 2016 02:35:24 GMT
recorded_with: VCR 2.9.3
